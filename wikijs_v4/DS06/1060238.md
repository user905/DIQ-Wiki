## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS06 Resources |
| Severity    | WARNING |
| Unique ID   | 1060238   |
| Summary     | Does this resource have negative budget dollars and/or units? |
| Error message | Resource found with negative budget (budget_dollars < 0 and/or budget_units < 0). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Resources with Negative Budget" is designed to identify any resources in the DS06 Resources table that have been assigned a negative budget, either in dollars or units. 

The error message "Resource found with negative budget (budget_dollars < 0 and/or budget_units < 0)" indicates that one or more resources have been assigned a budget value that is less than zero. This is likely due to an input error when entering the budget data for the resource.

The fields causing the issue are 'budget_dollars' and 'budget_units'. These fields should contain positive values, as it is not logical or practical for a resource to have a negative budget. 

To resolve this issue, review the budget data for all resources in the DS06 Resources table and correct any negative values. Ensure that all budget values are positive before re-running the DIQ check.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS06 Resources' table to identify any resources that have negative budget dollars and/or units. The purpose of this check is to ensure that all resources have been allocated a positive budget, as a negative budget could indicate an error in data entry or budget allocation. 

The severity of this test is marked as a 'WARNING', which means that while it may not prevent the data from being reviewed, it is likely to cause problems during analysis. For instance, a negative budget could skew budget calculations or cause confusion about the actual resources available for the project. 

Therefore, this check is important to maintain the accuracy and reliability of the project management data. It helps to ensure that all resources are correctly budgeted, which is crucial for effective project management and financial planning.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS06_Res_IsBudgetLtZero] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT
		*
	FROM
		DS06_schedule_resources
	WHERE
			upload_id = @upload_ID
		AND (budget_dollars < 0 OR budget_units < 0)
)
```

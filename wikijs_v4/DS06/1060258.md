## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS06 Resources |
| Severity    | WARNING |
| Unique ID   | 1060258   |
| Summary     | Does this material-type resource have missing or numeric UOM? |
| Error message | type = material where UOM is blank or numeric. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Material Resource with Missing or Numeric UOM" is designed to verify the integrity of data in the DS06 Resources table. This check specifically focuses on the 'type' and 'UOM' fields of the table.

The 'type' field should contain the value 'material' for material-type resources. The 'UOM' field, which stands for Unit of Measure, should contain a non-numeric value that describes the unit in which the material resource is measured. For example, it could be 'kg' for kilograms, 'm' for meters, etc.

The DIQ check is designed to flag any records where the 'type' field is 'material' and the 'UOM' field is either blank or contains a numeric value. This is because a numeric value or a blank field in the 'UOM' field for a material-type resource does not provide a valid unit of measure, which is essential for accurate resource management and planning.

If the DIQ check flags any records, it indicates that these records have either missing or numeric values in the 'UOM' field. This could be due to data entry errors, missing data, or incorrect data import. To resolve this, the 'UOM' field for these records should be updated with a valid non-numeric unit of measure.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS06 Resources' table to check for any material-type resources that have missing or numeric Units of Measure (UOM). The Units of Measure is a critical piece of information in project management as it provides the quantity of the resources used. 

The severity of this test is marked as 'WARNING', which implies that if the UOM for material-type resources is missing or numeric, it is likely to cause problems during data analysis. This could lead to inaccurate resource allocation, cost estimation, and project scheduling, which could potentially derail the project's progress and budget.

Therefore, this check is important to ensure the completeness and accuracy of the resource data. It helps in maintaining the integrity of the data and ensures that the project management decisions made based on this data are reliable and effective.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS06_Res_IsMaterialTypeUOMMissingOrNumeric] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT
		*
	FROM
		DS06_schedule_resources
	WHERE
			upload_id = @upload_ID
		AND type = 'material'
		AND (TRIM(ISNULL(UOM,''))='' OR ISNUMERIC(UOM) = 1)
)
```

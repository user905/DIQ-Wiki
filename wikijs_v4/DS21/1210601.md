## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS21 Rates |
| Severity    | ALERT |
| Unique ID   | 1210601   |
| Summary     | Is this Overhead rate typed as direct? |
| Error message | type = D & EOC = Overhead. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Direct Overhead EOC" is designed to verify the integrity of data in the DS21 Rates table. Specifically, it checks whether the overhead rate is correctly classified as direct.

The error message "type = D & EOC = Overhead" indicates that there is an inconsistency in the data. The 'type' field should be marked as 'D' for direct, and the 'EOC' field should be labeled as 'Overhead'. If these conditions are not met, the DIQ check will fail.

The likely cause of this error is incorrect data entry. The 'type' field should only contain the value 'D' for direct costs, and the 'EOC' field should only contain the value 'Overhead' for overhead costs. If any other values are entered in these fields, the DIQ check will identify them as errors.

To resolve this issue, review the data in the DS21 Rates table and ensure that the 'type' and 'EOC' fields contain the correct values. If necessary, correct any errors and re-run the DIQ check to confirm that the data is now accurate.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS21 Rates' table to check if the Overhead rate is classified as direct. The test is looking for instances where the type is 'D' and the EOC (Element of Cost) is 'Overhead'. This is important because it ensures that overhead costs are correctly classified in the data. Misclassification could lead to inaccurate cost calculations and projections, which could impact the overall project budget and financial management.

The severity of this test is marked as an 'ALERT', which is less severe. This means that while it may not immediately prevent data from being reviewed, it could potentially cause minor problems or indicate that the data does not adhere to all best practices. It's a signal to review the data and correct any inconsistencies to maintain data integrity and quality.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS21_Rates_IsOvhdEOCDirect] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM 
		DS21_rates
	WHERE 
			upload_ID = @upload_ID
		AND type = 'D'
		AND EOC = 'Overhead'
)
```

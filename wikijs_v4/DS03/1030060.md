## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS03 Cost |
| Severity    | WARNING |
| Unique ID   | 1030060   |
| Summary     | For this WP, was performance collected in the future? |
| Error message | WP found with BCWPi <> 0 (Dollars, Hours, or FTEs) and period_date > cpp_status_date. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Future Performance" is designed to ensure that no work performance is recorded in the future for a given work package (WP) in the DS03 Cost table. 

The error message "WP found with BCWPi <> 0 (Dollars, Hours, or FTEs) and period_date > cpp_status_date" indicates that there is a WP with non-zero values for Budgeted Cost of Work Performed (BCWPi) in either dollars, hours, or Full-Time Equivalents (FTEs), and the period date is later than the Current Physical Progress (CPP) status date. 

This discrepancy could be due to data entry errors or system glitches. The fields causing the issue are BCWPi (in dollars, hours, or FTEs) and period_date. The expected values for BCWPi should be zero for any future dates (i.e., dates after the CPP status date). 

To resolve this issue, review the data entries for these fields and correct any inaccuracies. Ensure that the period_date is not later than the CPP_status_date and that BCWPi values are zero for any future dates.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test, titled "Future Performance," is being performed on the 'DS03 Cost' table to check for instances where work performance (WP) appears to have been collected in the future. This is identified by a work package (WP) with a BCWPi (Budgeted Cost of Work Performed index) not equal to zero (in Dollars, Hours, or FTEs) and a period_date that is greater than the cpp_status_date.

The importance of this check is to ensure the temporal accuracy and integrity of the data. It is logically impossible to collect performance data from the future, so any instances where this appears to be the case would indicate a data entry error or system issue. This could potentially lead to inaccurate project cost projections and misinformed decision-making.

The severity of this check is classified as a 'WARNING', which means that while it may not prevent the data from being reviewed, it is likely to cause problems during analysis. Therefore, it is crucial to address these issues to ensure the reliability and accuracy of the project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS03_Cost_DoesBCWPExistInTheFuture] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		* 
	FROM 
		DS03_Cost
	WHERE
			upload_ID = @upload_ID
		AND (BCWPi_dollars <> 0 OR BCWPi_FTEs <> 0 OR BCWPi_hours <> 0)
		AND period_date > CPP_status_date
)
```

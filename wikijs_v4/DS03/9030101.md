## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS03 Cost |
| Severity    | WARNING |
| Unique ID   | 9030101   |
| Summary     | Is this WP WBS / PP ID missing in the WBS Dictionary? |
| Error message | WBS_ID_WP missing from DS01.WBS_ID list. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "WP / PP Missing in WBS Dictionary" is designed to verify the consistency of the Work Package (WP) or Planning Package (PP) identifiers in the DS03 Cost table with the identifiers listed in the DS01 WBS Dictionary. 

The DIQ check is triggered when a WP or PP identifier (WBS_ID_WP) in the DS03 Cost table is not found in the DS01 WBS Dictionary. This discrepancy could be due to a data entry error, a missing entry in the WBS Dictionary, or a mismatch between the identifiers used in the two tables.

The expected value for the WBS_ID_WP field in the DS03 Cost table should be a valid identifier that is also present in the WBS_ID field of the DS01 WBS Dictionary. If the DIQ check fails, it indicates that the WBS_ID_WP is missing from the DS01 WBS Dictionary, and corrective action should be taken to ensure data consistency across the tables.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to check if there are any Work Package (WP) or Planning Package (PP) IDs missing in the Work Breakdown Structure (WBS) Dictionary. The WBS Dictionary is a crucial component of project management that provides detailed information about each element in the WBS, including tasks, resources, and timelines. 

The test has a severity of WARNING, which means that if the WP or PP IDs are indeed missing, it could cause problems during the analysis of the data. The absence of these IDs could lead to incomplete or inaccurate project tracking, budgeting, and scheduling, which could potentially derail the project.

The importance of this check lies in ensuring the completeness and accuracy of the project management data. It helps to maintain the integrity of the WBS, which is a fundamental tool in project management. It also aids in preventing potential issues that could arise during the analysis of the project data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS03_Cost_IsWPOrPPMissingInDS01] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
    -- Insert statements for procedure here
	SELECT 
		* 
	FROM 
		DS03_Cost C
	WHERE 
			upload_ID = @upload_ID
		AND TRIM(ISNULL(WBS_ID_WP,'')) <> ''
		AND WBS_ID_WP NOT IN (SELECT WBS_ID FROM DS01_WBS WHERE upload_ID = @upload_ID)
)
```

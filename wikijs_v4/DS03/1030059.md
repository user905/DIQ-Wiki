## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS03 Cost |
| Severity    | WARNING |
| Unique ID   | 1030059   |
| Summary     | Were actuals collected in the future? |
| Error message | ACWPi <> 0 (Dollars, Hours, or FTEs) and period_date > cpp_status_date. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Future Actuals" is designed to ensure that no actual costs (ACWPi) have been recorded for future dates in the DS03 Cost table. This check is important because it helps maintain the accuracy and reliability of the project's financial data.

The error message "ACWPi <> 0 (Dollars, Hours, or FTEs) and period_date > cpp_status_date" indicates that actual costs have been recorded for a period that is beyond the current project status date. This is not expected as costs cannot be incurred in the future.

The fields causing this issue are ACWPi (in Dollars, Hours, or FTEs) and period_date. The ACWPi fields should not have a non-zero value for dates beyond the current project status date (cpp_status_date). 

To resolve this issue, review the entries in the DS03 Cost table and ensure that actual costs are only recorded for periods up to and including the current project status date. Any entries with future dates should be corrected or removed to maintain data integrity.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS03 Cost' table to check for any instances where actual costs were recorded in the future, which is an inconsistency. The test identifies rows where the Actual Cost of Work Performed (ACWPi) is not zero and the period date is greater than the current performance period status date. This situation could occur due to data entry errors or system glitches.

The importance of this check is to ensure the accuracy and reliability of cost data. Recording future actuals could lead to incorrect cost calculations and projections, which could in turn affect project management decisions and financial reporting. The severity level is 'WARNING', which means that while this issue may not prevent the data from being reviewed, it is likely to cause problems during analysis and should be addressed to maintain data integrity and quality.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS03_Cost_DoesACWPExistInTheFuture] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		* 
	FROM 
		DS03_Cost
	WHERE
			upload_ID = @upload_ID
		AND (ACWPi_dollars <> 0 OR ACWPi_FTEs <> 0 OR ACWPi_hours <> 0)
		AND period_date > CPP_status_date
)
```

## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS03 Cost |
| Severity    | WARNING |
| Unique ID   | 1030086   |
| Summary     | Is this WP or PP missing an EVT Justification? |
| Error message | EVT Justification is missing for EVT = B,G, H, J, L, M, N, O, or P. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "EVT Justification Missing" is designed to identify any instances in the DS03 Cost table where a Work Package (WP) or Planning Package (PP) is missing an EVT Justification. 

The EVT Justification is a required field for certain EVT codes. Specifically, this check is looking for missing EVT Justifications for EVT codes B, G, H, J, L, M, N, O, or P. 

If the DIQ check identifies a record with one of these EVT codes and an empty EVT Justification field, it will flag this as an error. This error indicates that the required justification for the EVT code is missing. 

To resolve this error, you should review the flagged records and provide the necessary EVT Justification. Please ensure that the justification provided is relevant and accurate to maintain the integrity and quality of the data in the DS03 Cost table.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to check if there is a missing Earned Value Technique (EVT) Justification in the 'DS03 Cost' table for the specified EVT codes. The EVT Justification is crucial as it provides the reasoning or basis for the chosen earned value technique, which is a key component in project management and cost control. 

The severity level is marked as a 'WARNING', which means that while the data can still be reviewed, the missing EVT Justification is likely to cause problems during analysis. This could lead to inaccurate cost performance analysis, incorrect project forecasting, and potential mismanagement of resources. Therefore, it's important to address this issue to ensure the integrity and quality of the project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS03_Cost_IsEVTJustificationMissing] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	SELECT 
		* 
	FROM 
		DS03_Cost
	WHERE
			upload_ID = @upload_ID
		AND EVT IN ('B','G','H', 'J', 'L', 'M', 'N', 'O', 'P')
		AND TRIM(ISNULL(justification_EVT,''))=''
)
```

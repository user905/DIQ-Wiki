## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS03 Cost |
| Severity    | WARNING |
| Unique ID   | 1030079   |
| Summary     | Does this WP or PP have negative performance? |
| Error message | WP or PP found with BCWPi < 0 (Dollars, Hours, or FTEs). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Negative Performance" is designed to identify any Work Packages (WP) or Planning Packages (PP) in the DS03 Cost table that have negative performance. This is determined by checking if the Budgeted Cost of Work Performed index (BCWPi) in dollars, hours, or Full-Time Equivalents (FTEs) is less than zero.

If the DIQ check identifies a WP or PP with a BCWPi value less than zero, it means that there is an error in the data. This could be due to a data entry error or a calculation error in the source system. The fields causing the issue are BCWPi_dollars, BCWPi_FTEs, and BCWPi_hours.

The expected values for these fields should be zero or greater. Negative values are not acceptable as they indicate that the work performed cost less than budgeted, which is not a realistic scenario in project management. 

If this error is identified, it is recommended to review the data entry or calculation process for the BCWPi fields in the source system to ensure accuracy.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS03 Cost' table to check for instances of negative performance in work packages (WP) or planning packages (PP). The test is looking for instances where the Budgeted Cost of Work Performed index (BCWPi) is less than zero, which could be in terms of dollars, hours, or full-time equivalents (FTEs). 

The importance of this check is to ensure the accuracy and reliability of the project's cost data. Negative performance could indicate errors in data entry, calculation errors, or potential issues with the project's cost management. It could also lead to inaccurate project performance analysis and forecasting. 

The severity of this check is marked as 'WARNING', which means that while it may not prevent the data from being reviewed, it is likely to cause problems during analysis. Therefore, it is crucial to address these issues to ensure accurate and reliable project performance evaluation and decision-making.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS03_Cost_IsBCWPLessThanZero] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	SELECT 
		* 
	FROM 
		DS03_Cost
	WHERE
			upload_ID = @upload_ID
		AND TRIM(ISNULL(WBS_ID_WP,'')) <> ''
		AND (BCWPi_dollars < 0 OR BCWPi_FTEs < 0 OR BCWPi_hours < 0)
)
```

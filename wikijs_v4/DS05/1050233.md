## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS05 Schedule Logic |
| Severity    | ERROR |
| Unique ID   | 1050233   |
| Summary     | Is schedule logic missing for either the BL or FC schedule? |
| Error message | Zero logic rows found for either the BL or FC schedule (schedule_type = BL or FC). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Schedule Missing Logic" is designed to ensure that the DS05 Schedule Logic table contains necessary schedule logic for both the Baseline (BL) and Forecast (FC) schedules. 

The error message "Zero logic rows found for either the BL or FC schedule" indicates that the DIQ check did not find any rows of data for either the BL or FC schedule type in the DS05 Schedule Logic table. 

The field causing this issue is the 'schedule_type' field. This field should contain either 'BL' for Baseline schedule or 'FC' for Forecast schedule. If the DIQ check does not find any rows with these values, it means that the schedule logic is missing for the respective schedule type. 

To resolve this issue, ensure that the DS05 Schedule Logic table contains rows of data for both 'BL' and 'FC' schedule types. This is crucial for maintaining the integrity and quality of the EVMS construction project management data.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS05 Schedule Logic' table to check for missing schedule logic in either the Baseline (BL) or Forecast (FC) schedule. The test is checking if there are any rows in the table where the schedule type is either BL or FC, and if there are no such rows, it raises an error. 

The importance of this check is high, as indicated by the severity level of 'ERROR'. This is because the schedule logic is crucial for project management. It helps in planning, coordinating, and tracking the progress of the project. If the schedule logic is missing for either the BL or FC schedule, it could lead to serious issues in project management, such as incorrect forecasting, poor planning, and inability to track progress effectively. Therefore, this issue must be fixed before the data can be reviewed or used for further analysis.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS05_Logic_IsScheduleMissingLogic] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
  with Logic as (
    SELECT schedule_type FROM DS05_schedule_logic WHERE upload_ID = @upload_ID
  )
	SELECT 
      * 
  FROM 
      DummyRow_Get(@upload_ID)	
  WHERE
          (SELECT COUNT(*) FROM Logic WHERE schedule_type = 'BL') = 0
      OR  (SELECT COUNT(*) FROM Logic WHERE schedule_type = 'FC') = 0
)
```

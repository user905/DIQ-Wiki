## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS16 Risk Register Tasks |
| Severity    | WARNING |
| Unique ID   | 9160571   |
| Summary     | Is this task ID missing in the baseline schedule? |
| Error message | task_ID not in DS04.task_ID list where schedule_type = BL. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Task ID Missing in Baseline Schedule" is designed to verify the consistency of task IDs between the DS16 Risk Register Tasks and the DS04 Schedule. 

This check is performed to ensure that every task ID listed in the DS16 Risk Register Tasks is also present in the DS04 Schedule when the schedule type is 'BL' (Baseline). If a task ID from DS16 is not found in DS04 with a schedule type of 'BL', this indicates a potential data integrity issue.

The likely cause of this error is a discrepancy between the task IDs recorded in the DS16 Risk Register Tasks and the DS04 Schedule. This could occur if a task is added or removed from the DS16 Risk Register Tasks but the DS04 Schedule is not updated accordingly. 

To resolve this issue, it is recommended to cross-check the task IDs in both DS16 and DS04. Any task ID present in DS16 should also be listed in DS04 with a schedule type of 'BL'. If any discrepancies are found, they should be corrected to ensure data integrity and quality.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to ensure that all task IDs in the 'DS16 Risk Register Tasks' table are also present in the 'DS04' table where the schedule type is 'Baseline'. The importance of this check is to maintain data consistency across different tables. If a task ID is missing in the baseline schedule, it could lead to incomplete or inaccurate analysis of the project's risks and progress. 

The severity of this test is marked as 'WARNING', which means that while it may not prevent the data from being reviewed, it is likely to cause problems during analysis. It is crucial to address this issue to ensure accurate project management and risk assessment.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS16_RR_Tasks_IsTaskIDMissingInDS04BL] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM 
		DS16_risk_register_tasks
	WHERE 
			upload_ID = @upload_ID
		AND task_ID NOT IN (
			SELECT task_ID
			FROM DS04_schedule
			WHERE upload_ID = @upload_ID AND schedule_type = 'BL'
		)
)
```

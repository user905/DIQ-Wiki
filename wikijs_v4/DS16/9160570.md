## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS16 Risk Register Tasks |
| Severity    | WARNING |
| Unique ID   | 9160570   |
| Summary     | Is this risk ID missing in the risk log? |
| Error message | Risk_ID not in DS15.risk_ID list. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Risk ID Missing In Risk Log" is designed to ensure that all risk IDs listed in the DS16 Risk Register Tasks table are also present in the DS15 Risk Register. 

If a risk ID is found in DS16 but not in DS15, this indicates a potential data integrity issue. The risk ID is a critical piece of information that should be consistently recorded across both tables. If a risk ID is missing from the DS15 Risk Register, it means that there is a risk listed in the DS16 Risk Register Tasks that does not have a corresponding entry in the DS15 Risk Register. 

This could be caused by a variety of issues, such as a data entry error, a problem with the data import process, or a risk being added to the DS16 Risk Register Tasks without being properly recorded in the DS15 Risk Register. 

To resolve this issue, you should ensure that all risk IDs in the DS16 Risk Register Tasks are also included in the DS15 Risk Register. This will ensure that all risks are properly tracked and managed across both tables.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to ensure that all risk IDs in the 'DS16 Risk Register Tasks' table are also present in the 'DS15.risk_ID' list. The purpose of this check is to maintain data integrity and consistency across different data sources within the project management system. 

The importance of this check lies in the fact that missing risk IDs could lead to incomplete risk analysis, miscommunication, and potential oversight of significant risks in the project. This could further result in poor decision making and project planning. 

The severity level of this test is 'WARNING', which means that while it may not immediately prevent the data from being reviewed, it is likely to cause problems during the analysis phase. Therefore, it is crucial to address this issue promptly to ensure accurate and reliable project risk management.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS16_RR_Tasks_IsRiskIDMissingInDS15] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM 
		DS16_risk_register_tasks
	WHERE 
			upload_ID = @upload_ID
		AND risk_ID NOT IN (
			SELECT risk_ID
			FROM DS15_risk_register
			WHERE upload_ID = @upload_ID
		)
)
```

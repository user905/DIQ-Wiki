## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS08 WAD |
| Severity    | WARNING |
| Unique ID   | 9080400   |
| Summary     | Does this SLPP WAD have a CAM authorization date? |
| Error message | auth_CAM_date found where DS01.type = SLPP (by WBS_ID). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "SLPP with CAM Authorization" is designed to ensure that each SLPP Work Authorization Document (WAD) in DS08 has a Control Account Manager (CAM) authorization date. 

The error message "auth_CAM_date found where DS01.type = SLPP (by WBS_ID)" indicates that there is an SLPP WAD in DS08 that does not have a CAM authorization date. This is likely due to missing or incorrect data entry in the 'auth_CAM_date' field for the SLPP WAD in DS08.

The 'auth_CAM_date' field should contain a valid date indicating when the CAM authorized the SLPP WAD. If this field is left blank or contains an invalid date, the DIQ check will fail. 

To resolve this issue, ensure that each SLPP WAD in DS08 has a valid CAM authorization date in the 'auth_CAM_date' field. This will ensure that the DIQ check passes and that the data in DS08 is accurate and complete.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to check if the SLPP WAD in the DS08 table has a Control Account Manager (CAM) authorization date. The test is looking for an 'auth_CAM_date' in records where the type is SLPP, identified by the WBS_ID. 

The importance of this check is to ensure that there is a CAM authorization date for each SLPP WAD. This is crucial because the CAM authorization date is a key piece of information in project management, indicating when the CAM approved the work package. Without this date, it may be difficult to track the progress and approval of work packages, which could lead to issues in project management and oversight.

The severity of this check is marked as a WARNING. This means that while the absence of a CAM authorization date may not prevent the data from being reviewed, it is likely to cause problems during analysis. It could lead to inaccurate tracking of project timelines and potentially cause delays or miscommunication in the project. Therefore, it is recommended to address this issue to ensure accurate and efficient project management.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS08_WAD_DoesSLPPHaveACAMAuthDate] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		WAD.*
	FROM
		DS08_WAD WAD INNER JOIN DS01_WBS WBS ON WAD.WBS_ID = WBS.WBS_ID
	WHERE
			WAD.upload_ID = @upload_ID
		AND WBS.upload_ID = @upload_ID
		AND WBS.[type] = 'SLPP'
		AND auth_CAM_date IS NOT NULL
)
```

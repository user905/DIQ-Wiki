## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | WARNING |
| Unique ID   | 1070276   |
| Summary     | Is NCC negative? |
| Error message | NCC_dollars < 0. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Negative NCC" is performed on the DS07 IPMR Header table. This check is designed to identify any instances where the NCC (Net Cost of Completion) value is negative. 

In the context of project management, NCC represents the estimated cost to complete the remaining work on a project. Therefore, it is expected that this value should always be positive. A negative NCC value could indicate an error in cost estimation or data entry.

If this DIQ check identifies any records with a negative NCC value, it suggests that there may be inaccuracies in the project's financial data. This could be due to a variety of reasons, such as incorrect data entry, calculation errors, or issues with cost estimation processes. 

To resolve this issue, it is recommended to review the identified records and verify the accuracy of the NCC values. If necessary, corrections should be made to ensure that all NCC values are positive, reflecting the true cost to complete the remaining work on the project.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to check if the Net Contract Cost (NCC) is negative. The severity level is 'WARNING', which means that if the NCC is indeed negative, it could potentially cause problems during data analysis. 

The importance of this check lies in ensuring the accuracy and reliability of the financial data. A negative NCC could indicate a data entry error, a calculation error, or an unusual financial situation that needs to be investigated. It's crucial to identify and correct such issues to maintain the integrity of the project's financial management and to ensure accurate reporting and decision-making.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_IsNCCLTZero] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND NCC_dollars < 0
)
```

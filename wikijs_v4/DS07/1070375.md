## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | ALERT |
| Unique ID   | 1070375   |
| Summary     | Is the unfavorable schedule cum percent threshold equal to zero? |
| Error message | threshold_schedule_cum_pct_unfav = 0. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Zero Unfavorable Schedule Cum Percent Threshold" is performed on the DS07 IPMR Header data. This check is designed to verify the integrity of the 'threshold_schedule_cum_pct_unfav' field in the data.

The purpose of this check is to ensure that the 'threshold_schedule_cum_pct_unfav' field is not equal to zero. This field represents the unfavorable schedule cumulative percent threshold, which should not be zero in a well-structured project management data set. A zero value in this field could indicate a data entry error or a problem with the data source.

If the DIQ check identifies records where 'threshold_schedule_cum_pct_unfav' is equal to zero, it will return these records as part of the check result. This allows for the identification and correction of these records to ensure the overall integrity and quality of the DS07 IPMR Header data.

In summary, the "Zero Unfavorable Schedule Cum Percent Threshold" DIQ check is a crucial tool for maintaining the accuracy and reliability of the project management data at the US Department of Energy. It helps to identify and correct potential issues with the 'threshold_schedule_cum_pct_unfav' field, thereby ensuring that this field accurately reflects the unfavorable schedule cumulative percent threshold.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to check if the unfavorable schedule cumulative percent threshold is equal to zero. The test is important because it ensures that the data in the 'threshold_schedule_cum_pct_unfav' field is accurate and meaningful. If the threshold is zero, it could indicate that there are no unfavorable schedule variances, which might not be realistic in a construction project management scenario. 

The severity of this test is marked as 'ALERT', which is less severe. This means that while the data might not follow all best practices, it is unlikely to cause major problems during analysis. However, it's still important to address this issue to ensure the highest level of data integrity and quality.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_IsThresholdScheduleCumPctUnFavEqToZero] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND ISNULL(threshold_Schedule_cum_pct_unfav,0) = 0
)
```

## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | WARNING |
| Unique ID   | 1070275   |
| Summary     | Is there MR reprogramming without an OTB/OTS date? |
| Error message | MR_rpg_dollars > 0 & OTB_OTS_date missing. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "MR Reprogramming without OTB/OTS Date" is designed to identify any instances in the DS07 IPMR Header where there is Management Reserve (MR) reprogramming, indicated by a value greater than 0 in the MR_rpg_dollars field, but no corresponding Over Target Baseline or Over Target Schedule (OTB/OTS) date. 

The error message "MR_rpg_dollars > 0 & OTB_OTS_date missing" suggests that there are instances where MR reprogramming has occurred, but the OTB/OTS date is missing. This could be due to an oversight in data entry or a system error during data import.

The expected values for a correct data entry would be a positive value in the MR_rpg_dollars field whenever there is MR reprogramming, and a corresponding date in the OTB_OTS_date field. If there is no MR reprogramming, the MR_rpg_dollars field should be 0 and the OTB_OTS_date field can be left blank. 

Please ensure that all instances of MR reprogramming are accompanied by an OTB/OTS date to maintain data integrity and quality.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to check for instances where Management Reserve (MR) reprogramming has occurred without an associated Over Target Baseline (OTB) or Over Target Schedule (OTS) date. The test is looking for records where the MR reprogramming dollars are greater than zero, but the OTB/OTS date is missing.

The importance of this check is to ensure that all reprogramming of management reserves is properly documented with an associated OTB/OTS date. This is crucial for maintaining accurate and complete project management data, as it allows for proper tracking and auditing of changes to the project's budget and schedule. 

The severity of this check is marked as a 'WARNING', which means that while it may not prevent the data from being reviewed, it is likely to cause problems during analysis. This could potentially lead to inaccurate conclusions or decisions being made based on the data. Therefore, it is important to address this issue to ensure the integrity and quality of the project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_DoesMRRpgExistWithoutAnOTBOTS] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND MR_rpg_dollars > 0
		AND OTB_OTS_date IS NULL
)
```

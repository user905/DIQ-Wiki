## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | ALERT |
| Unique ID   | 1070379   |
| Summary     | Is the unfavorable schedule inc percent threshold equal to zero? |
| Error message | threshold_schedule_inc_pct_unfav = 0. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Zero Unfavorable Schedule Inc Percent Threshold" is designed to verify the integrity of data in the DS07 IPMR Header table. Specifically, it checks whether the 'Unfavorable Schedule Inc Percent Threshold' (threshold_schedule_inc_pct_unfav) is equal to zero.

If this DIQ check fails, it means that the 'Unfavorable Schedule Inc Percent Threshold' in the DS07 IPMR Header table is set to zero. This could be due to an error in data entry or a system glitch. 

The 'Unfavorable Schedule Inc Percent Threshold' is a critical field that should ideally contain a non-zero value. This value represents the threshold percentage for unfavorable schedule increments, which is used to monitor and control project schedules. A zero value in this field could lead to inaccurate project monitoring and control.

To resolve this issue, you should review the data entry process for the 'Unfavorable Schedule Inc Percent Threshold' field in the DS07 IPMR Header table. Ensure that the correct non-zero values are being entered. If the issue persists, it may be necessary to investigate potential system glitches or bugs that could be causing the zero values.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to check if the unfavorable schedule inc percent threshold is equal to zero. The test is important because it ensures that the data in the 'threshold_schedule_inc_pct_unfav' field is accurate and meaningful. If the threshold is zero, it may indicate that there is a problem with the data or that the project is not being managed properly, as it suggests that no unfavorable schedule increase is being allowed for. This is flagged as an ALERT, meaning it's not a critical issue that would prevent data review, but it could potentially cause minor problems or indicate that the data doesn't follow all best practices. It's important to address this to ensure accurate project management and data analysis.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_IsThresholdScheduleIncPctUnfavEqToZero] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND ISNULL(threshold_Schedule_Inc_pct_unfav,0) = 0
)
```

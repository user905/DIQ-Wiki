## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | WARNING |
| Unique ID   | 1070384   |
| Summary     | Are the UB estimated days negative? |
| Error message | UB_est_days < 0. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Negative UB Estimated (Days)" is designed to verify the integrity of data in the DS07 IPMR Header table, specifically the field 'UB_est_days'. 

The purpose of this check is to ensure that the 'UB_est_days' field, which represents the estimated days for Unfinished Business (UB), does not contain any negative values. Negative values in this field are not logical, as it is not possible to have a negative number of estimated days for unfinished tasks.

If this DIQ check returns any records, it indicates that there are entries in the 'UB_est_days' field that are less than zero. This could be due to a data entry error or a problem with the system that is generating or importing this data. 

To resolve this issue, you should review the entries in the 'UB_est_days' field of the DS07 IPMR Header table and correct any negative values. The expected values for this field should be zero or a positive number, representing the number of days estimated to complete the unfinished tasks.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to check if the 'UB_est_days' (Undistributed Budget estimated days) are negative. The severity of this test is marked as 'WARNING', which implies that if the UB estimated days are indeed negative, it could cause problems during the analysis of the data.

The importance of this check lies in ensuring the accuracy and reliability of the project management data. In the context of EVMS (Earned Value Management System), a negative value for UB estimated days could indicate a potential error in data entry or calculation, as it's not logical to have negative time estimates. This could lead to incorrect project forecasting and budgeting, which could have significant implications for the project's success. Therefore, it's crucial to identify and rectify such issues to maintain the integrity and quality of the data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_IsUBEstDaysNegative] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND UB_est_days < 0
)
```

## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | WARNING |
| Unique ID   | 1070267   |
| Summary     | Are the PM EAC dates chronologically ordered as best, likely, worst? |
| Error message | EAC_PM_best_date >= EAC_PM_likely_date OR EAC_PM_likely_date >= EAC_PM_worst_date. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "PM EAC Dates Chronology Issue" is designed to ensure that the dates in the DS07 IPMR Header table are chronologically ordered as best, likely, and worst. 

The fields involved in this check are 'EAC_PM_best_date', 'EAC_PM_likely_date', and 'EAC_PM_worst_date'. The expected order of these dates should be 'EAC_PM_best_date' < 'EAC_PM_likely_date' < 'EAC_PM_worst_date'. 

If an error is flagged by this DIQ check, it indicates that the dates are not in the expected chronological order. This could be due to a data entry error or a system error when the data was imported or updated. 

To resolve this issue, you should review the dates in question and correct them to ensure they are in the correct chronological order: best, likely, and then worst.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to ensure that the Project Manager's (PM) Estimate at Completion (EAC) dates are chronologically ordered from best to worst. The test checks if the 'best' date is later than or equal to the 'likely' date, or if the 'likely' date is later than or equal to the 'worst' date. 

The importance of this check is to ensure the logical and chronological order of the EAC dates. This is crucial for accurate project planning, scheduling, and risk management. If the dates are not in the correct order, it could lead to confusion, misinterpretation of data, and potential errors in project management decisions.

The severity of this check is marked as 'WARNING', which means that if this issue is not addressed, it is likely to cause problems during data analysis. It may not prevent the data from being reviewed, but it could compromise the accuracy and reliability of the analysis results. Therefore, it is recommended to correct this issue to maintain the integrity and quality of the project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_ArePMEACDatesChronological] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND (
			EAC_PM_best_date >= EAC_PM_likely_date OR 
			EAC_PM_likely_date >= EAC_PM_worst_date
		)
)
```

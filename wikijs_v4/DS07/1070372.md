## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | ALERT |
| Unique ID   | 1070372   |
| Summary     | Is the favorable schedule cum dollar threshold equal to zero? |
| Error message | threshold_schedule_cum_dollar_fav = 0. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Zero Favorable Schedule Cum Dollar Threshold" is designed to verify the integrity of data in the DS07 IPMR Header table. Specifically, it checks whether the "Favorable Schedule Cumulative Dollar Threshold" (threshold_schedule_cum_dollar_fav) is equal to zero.

If this DIQ check fails, it indicates that the value in the "Favorable Schedule Cumulative Dollar Threshold" field is set to zero. This could be due to an error in data entry or a problem with the data source. 

The "Favorable Schedule Cumulative Dollar Threshold" field should ideally contain a non-zero value, as it represents the cumulative dollar amount at which a schedule variance is considered favorable. A zero value in this field may not accurately reflect the project's financial status and could potentially skew financial analyses and reports. 

To resolve this issue, you should review the data source or data entry process to ensure that the "Favorable Schedule Cumulative Dollar Threshold" field is being populated correctly.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to check if the favorable schedule cumulative dollar threshold is equal to zero. The test is important because it ensures that the data in the 'threshold_schedule_cum_dollar_fav' field is accurate and meaningful. If the threshold is zero, it might indicate that there are no favorable schedule cumulative dollars, which could potentially skew the project's financial analysis. 

The severity of this test is marked as an 'ALERT', which means it's not a critical issue that would prevent the data from being reviewed, but it's still important to address. If left unchecked, it could lead to minor problems in the data analysis or indicate that the data doesn't follow all best practices. Therefore, it's recommended to review and correct this issue to ensure the integrity and quality of the EVMS construction project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_IsThresholdScheduleCumDollarFavEqToZero] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND ISNULL(threshold_Schedule_cum_dollar_fav,0) = 0
)
```

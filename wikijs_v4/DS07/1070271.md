## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | WARNING |
| Unique ID   | 1070271   |
| Summary     | Is the PM EAC Worst date earlier than the CPP Status Date? |
| Error message | EAC_PM_worst_date < DS00.CPP_Status_Date. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "PM EAC Worst Date Earlier Than CPP SD" is designed to verify the consistency of dates in the DS07 IPMR Header table. Specifically, it checks whether the Project Manager's Estimate at Completion (EAC) Worst Date is earlier than the Current Period Performance (CPP) Status Date.

If this DIQ check fails, it indicates that the EAC_PM_worst_date field in the DS07 IPMR Header table contains a date that is earlier than the date in the CPP_status_date field. This is an inconsistency because the EAC Worst Date, which represents the worst-case scenario for project completion, should not be earlier than the CPP Status Date, which represents the current status of the project.

To resolve this issue, ensure that the EAC_PM_worst_date is not earlier than the CPP_status_date. The EAC_PM_worst_date should either be the same as the CPP_status_date or a later date. If the EAC_PM_worst_date is earlier, it may indicate an error in data entry or project scheduling.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to check if the 'PM EAC Worst' date is earlier than the 'CPP Status Date'. The test is titled 'PM EAC Worst Date Earlier Than CPP SD'. The purpose of this test is to ensure that the project's worst-case estimate at completion (EAC) date provided by the project manager (PM) is not earlier than the current project phase (CPP) status date. 

This check is important because it helps maintain the integrity and quality of the project management data. If the worst-case EAC date is earlier than the CPP status date, it could indicate a potential issue with the project timeline or data entry error. This could lead to inaccurate project forecasting and planning, which could negatively impact the project's success.

The severity of this test is marked as 'WARNING', which means that while it's not an immediate threat to the data's usability, it's likely to cause problems during data analysis if not addressed. Therefore, it's crucial to correct this issue to ensure accurate and reliable project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_IsEACPMWorstLtCPPSD] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND EAC_PM_worst_date < CPP_status_date
)
```

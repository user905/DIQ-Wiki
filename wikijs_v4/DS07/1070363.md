## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | ALERT |
| Unique ID   | 1070363   |
| Summary     | Is the unfavorable cost cum dollar threshold equal to zero? |
| Error message | threshold_cost_cum_dollar_unfav = 0. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Zero Unfavorable Cost Cum Dollar Threshold" is performed on the DS07 IPMR Header table. This check is designed to verify whether the unfavorable cost cumulative dollar threshold is equal to zero.

If an error is flagged by this DIQ check, it indicates that the 'threshold_cost_cum_dollar_unfav' field in the DS07 IPMR Header table has a value of zero. This field represents the unfavorable cost cumulative dollar threshold, which should typically have a non-zero value. 

The value of zero in this field could be due to an error in data entry or a miscalculation in the cost threshold. It is important to review and correct this data, as it is crucial for accurate project cost management. The expected value for this field should be a non-zero dollar amount, representing the unfavorable cost threshold for the project.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to check if the unfavorable cost cumulative dollar threshold is equal to zero. The test is important because it ensures that the data in the 'threshold_cost_cum_dollar_unfav' field is accurate and meaningful. If the threshold is zero, it could indicate that there are no controls in place to flag when costs exceed budgeted amounts, which could lead to financial mismanagement. 

The severity of this test is marked as an 'ALERT', which means it's not a critical issue that would prevent the data from being reviewed, but it's still important to address. If left unchecked, it could lead to minor problems in the data analysis or indicate that the data doesn't follow all best practices. It's crucial to maintain data integrity and quality to ensure accurate and reliable project management.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_IsThresholdCostCumDollarUnFavEqToZero] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND ISNULL(threshold_cost_cum_dollar_unfav,0) = 0
)
```

## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | ALERT |
| Unique ID   | 1070390   |
| Summary     | Is the unfavorable cost VAC dollar threshold equal to zero? |
| Error message | threshold_cost_VAC_dollar_unfav = 0. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Zero Unfavorable Cost VAC Dollar Threshold" is designed to verify the integrity of data in the DS07 IPMR Header table. Specifically, it checks whether the unfavorable cost Variance at Completion (VAC) dollar threshold is equal to zero.

If an error is flagged by this DIQ check, it indicates that the 'threshold_cost_VAC_dollar_unfav' field in the DS07 IPMR Header table has a value of zero. This could be due to an error in data entry or a problem with the data source. 

The 'threshold_cost_VAC_dollar_unfav' field should ideally contain the dollar value threshold for unfavorable cost variance at completion. A zero value might not be appropriate as it suggests that any amount of unfavorable cost variance is acceptable, which is unlikely in a project management context. 

To resolve this issue, you should review the data entry process for the 'threshold_cost_VAC_dollar_unfav' field and ensure that the correct values are being entered. If the data is sourced from another system, you may need to check the integrity of the data at the source.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to check if the unfavorable cost Variance at Completion (VAC) dollar threshold is equal to zero. The Variance at Completion (VAC) is a projection of the anticipated amount of budget over- or under-run at the completion of the project. An unfavorable cost VAC indicates that the project is expected to cost more than the budget.

The severity of this test is marked as an 'ALERT', which means it is not a critical issue but it might cause minor problems or it indicates that the data doesn't follow all best practices. The importance of this check is to ensure that the unfavorable cost VAC dollar threshold is not zero, as this could potentially indicate a problem with the budgeting or cost management of the project. If the threshold is zero, it could mean that there is no room for any cost overruns, which is not a realistic or practical approach for most projects. Therefore, this check is important to ensure the accuracy and reliability of the project's cost management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_IsThresholdCostVACDollarUnfavEqToZero] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND ISNULL(threshold_cost_VAC_Dollar_Unfav,0) = 0
)
```

## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS11 Variance |
| Severity    | ALERT |
| Unique ID   | 1110484   |
| Summary     | Is the CAL ID missing for this VAR? |
| Error message | CAL_ID is missing or blank. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "CAL ID Missing" is designed to identify any instances in the DS11 Variance table where the CAL_ID field is missing or blank. 

The CAL_ID field is crucial for the proper functioning of the EVMS construction project management data system. It is used to identify and track different cost accounts in the system. If this field is missing or blank, it could lead to inaccuracies in cost tracking and reporting, and potentially cause issues with project management and financial oversight.

The DIQ check works by scanning the DS11 Variance table and flagging any records where the CAL_ID field is either missing or blank. If the check identifies any such records, it will return a message stating "CAL_ID is missing or blank."

To resolve this issue, you should ensure that all records in the DS11 Variance table have a valid CAL_ID. This could involve checking the source data for errors, or reviewing the data entry process to ensure that the CAL_ID is being correctly captured and entered.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to check if the 'CAL ID' field in the 'DS11 Variance' table is missing or blank. The 'CAL ID' is a crucial identifier that is used to link and cross-reference data across different tables or datasets. If it is missing, it could lead to difficulties in data analysis and interpretation, as well as potential inaccuracies.

The severity of this issue is marked as an 'ALERT'. This means that while it is not a critical error that would prevent the data from being reviewed, it is still a significant issue that could cause minor problems during analysis. It also indicates that the data does not fully adhere to best practices for data integrity and quality.

The importance of this check lies in ensuring the completeness and accuracy of the data. Without a 'CAL ID', it would be challenging to accurately track and analyze the variance data, which could lead to incorrect conclusions or decisions. Therefore, it is crucial to address this issue to maintain the integrity and quality of the EVMS construction project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS11_VAR_IsCALIDMissing] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT
		*
	FROM 
		DS11_variance
	WHERE 
			upload_ID = @upload_ID
		AND TRIM(ISNULL(CAL_ID,'')) = ''

)
```

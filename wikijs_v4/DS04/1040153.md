## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS04 Schedule |
| Severity    | WARNING |
| Unique ID   | 1040153   |
| Summary     | Is your forecast schedule missing the CD-1 milestone? |
| Error message | No row found for CD-1 milestone (milestone_level = 120) in forecast schedule (schedule_type = FC). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "CD-1 Milestone Missing in Forecast" is designed to ensure that your forecast schedule in the DS04 Schedule table includes the CD-1 milestone. 

The CD-1 milestone is a critical part of the project management process, and its absence could indicate a significant oversight in the planning or data entry process. This milestone is identified by a milestone level of 120 in the DS04 Schedule table.

If the DIQ check returns an error message stating "No row found for CD-1 milestone (milestone_level = 120) in forecast schedule (schedule_type = FC)", this means that the CD-1 milestone is missing from your forecast schedule. 

To resolve this issue, you should review your forecast schedule and ensure that the CD-1 milestone is included, with the correct milestone level of 120. If the CD-1 milestone is present but the milestone level is incorrect, you should correct the milestone level to 120. If the CD-1 milestone is missing, you should add it to your forecast schedule. 

Remember, maintaining accurate and complete data in the DS04 Schedule table is crucial for effective project management and reporting.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to ensure that the forecast schedule for the EVMS construction project includes the CD-1 milestone. The CD-1 milestone, or Critical Decision-1, is a crucial point in the project where the Department of Energy approves the project's alternative selection and cost range. 

The severity of this test is marked as a WARNING, which means that while it's not an immediate threat to the data's integrity, it could cause problems during analysis. If the CD-1 milestone is missing, it could lead to inaccurate forecasting, improper planning, and potential delays in the project. 

Therefore, this check is important because it ensures that all necessary milestones are included in the forecast schedule, which is essential for accurate project management and planning. It helps maintain the quality and integrity of the project data by ensuring that all critical steps in the project lifecycle are accounted for.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS04_Sched_IsCD1MissingInFC] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
    * 
  FROM 
    DummyRow_Get(@upload_ID)	
  WHERE
    (SELECT COUNT(*) FROM DS04_schedule WHERE upload_ID = @upload_ID AND schedule_type = 'FC' AND milestone_level = 120) = 0
)
```

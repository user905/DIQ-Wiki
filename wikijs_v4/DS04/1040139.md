## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS04 Schedule |
| Severity    | ERROR |
| Unique ID   | 1040139   |
| Summary     | Is this activity missing an EVT? |
| Error message | activity where EVT = null or blank (Note: If task is a milestone, then type must be either FM or SM. Otherwise, it will be treated as an activity.). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Activity Missing EVT" is designed to identify any activities in the DS04 Schedule table that are missing an Earned Value Technique (EVT). 

The error is likely to be caused by the EVT field being either null or blank for certain activities. This is problematic as each activity should have an associated EVT. 

Please note that if a task is a milestone, its type should be either 'FM' (Final Milestone) or 'SM' (Start Milestone). If the type is not one of these, it will be treated as an activity and thus, should have an EVT. 

The DIQ check is designed to ensure that all activities have an EVT, and that milestones are correctly classified. If the check identifies any activities without an EVT, or any milestones that are not correctly classified, these will need to be corrected in the DS04 Schedule table. 

In summary, the fields causing the issue are the 'type' and 'EVT' fields. The 'type' field should be either 'FM', 'SM', or 'WS' for milestones, and the 'EVT' field should not be null or blank for activities.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS04 Schedule' table to check for any activities that are missing an Earned Value Technique (EVT). The Earned Value Technique is a critical component in project management as it helps in measuring project performance and progress in an objective manner. 

The severity of this test is marked as 'ERROR', which is the highest level of severity. This means that if an activity is found where the EVT is null or blank, it is a serious issue that must be fixed before the data can be reviewed or used for further analysis. 

The importance of this check lies in ensuring the completeness and accuracy of the project management data. Without a valid EVT, it would be impossible to accurately track the progress and performance of a particular activity, which could lead to incorrect project management decisions and potentially jeopardize the success of the project. 

In the case of milestones, the type must be either FM (Finish Milestone) or SM (Start Milestone). If it's not, it will be treated as an activity, which requires an EVT. This check ensures that all tasks are correctly categorized and that the necessary data is available for each one.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS04_Sched_IsActivityMissingEVT] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT
		*
	FROM
		DS04_schedule
	WHERE
			upload_id = @upload_ID
		AND type NOT IN ('SM','FM','WS')
		AND TRIM(ISNULL(EVT,'')) = ''
)
```

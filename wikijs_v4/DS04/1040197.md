## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS04 Schedule |
| Severity    | ALERT |
| Unique ID   | 1040197   |
| Summary     | Is this non-CD or BCP milestone missing a description? |
| Error message | Non-CD or BCP milestone (milestone_level = 138 or 200-800) is missing a description. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Non-CD or BCP Milestone Missing Description" is designed to ensure that all non-CD or BCP milestones in the DS04 Schedule table have a description. 

A non-CD or BCP milestone is defined as a milestone with a level of 138 or between 200 and 800. The DIQ check identifies any such milestones that do not have a description. 

If this DIQ check fails, it means that there are non-CD or BCP milestones in the DS04 Schedule table that are missing a description. The fields causing the issue are the 'milestone_level' and 'milestone_level_description'. 

The 'milestone_level' field should contain a value of 138 or a value between 200 and 800 for non-CD or BCP milestones. The 'milestone_level_description' field should contain a text description of the milestone. If this field is blank, the DIQ check will fail. 

To resolve this issue, ensure that all non-CD or BCP milestones have a description in the 'milestone_level_description' field.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS04 Schedule' table to check if any non-CD or BCP milestones are missing a description. The severity level is 'ALERT', which means it's not a critical issue but it's still important to address for maintaining data quality and integrity. 

The purpose of this check is to ensure that all milestones, regardless of their level, have a description. This is important because descriptions provide context and clarity about what each milestone represents, which is crucial for understanding and analyzing the project's progress. 

If a milestone is missing a description, it might lead to confusion or misinterpretation of the data, especially for those who are not intimately familiar with the project. Therefore, while this issue might not prevent the data from being reviewed, it's still recommended to fix it to ensure the data follows best practices.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS04_Sched_IsNonCDorBCPMSMissingDescription] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT
		*
	FROM
		DS04_schedule
	WHERE
			upload_id = @upload_ID
		AND (milestone_level BETWEEN 200 AND 800 OR milestone_level = 138)
		AND TRIM(ISNULL([milestone_level_description],'')) = ''
)
```

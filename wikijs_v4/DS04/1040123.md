## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS04 Schedule |
| Severity    | WARNING |
| Unique ID   | 1040123   |
| Summary     | Does this discrete task have a % Complete type that is not Physical? |
| Error message | Discrete Task (EVT = B, C, D, E, F, G, H, L, N, O, P) with % Complete type <> Physical (PC_type <> Physical). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Discrete Task Without Non-Physical % Complete Type" is designed to ensure that all discrete tasks in the DS04 Schedule table have a % Complete type that is Physical. 

A discrete task is identified by the EVT field having one of the following values: B, C, D, E, F, G, H, L, N, O, P. The % Complete type is represented by the PC_type field. 

If the DIQ check fails, it means that there are discrete tasks in the DS04 Schedule table where the % Complete type is not Physical. This could be due to an error in data entry or a system error when the data was imported or updated. 

To resolve this issue, you should review the discrete tasks in the DS04 Schedule table and ensure that the PC_type field for each task is set to 'Physical'. If you find any tasks where this is not the case, you should update the PC_type field accordingly. 

Please note that this DIQ check is designed to ensure the integrity and quality of the project management data, and it is important to correct any issues it identifies to ensure accurate and reliable project management reporting.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS04 Schedule' table to check if there are any discrete tasks that do not have a 'Physical' percentage complete type. Discrete tasks are specific tasks that have a clear start and end point. The percentage complete type 'Physical' refers to the actual physical progress of the task, rather than just the time or cost spent on it.

The importance of this check is to ensure that the progress of discrete tasks is being accurately tracked in terms of actual work done, not just time or cost. This is crucial for effective project management as it provides a more realistic view of the project's progress and can help identify any potential issues or delays early on.

The severity of this check is 'WARNING', which means that while it may not prevent the data from being reviewed, it is likely to cause problems during analysis if not addressed. This could lead to inaccurate project progress reports and potentially impact decision-making. Therefore, it is important to correct any tasks that do not have a 'Physical' percentage complete type.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS04_Sched_DoesDiscreteTaskHaveNonPhysicalPCType] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT
		*
	FROM
		DS04_schedule
	WHERE
			upload_id = @upload_ID
		AND PC_type <> 'physical'
		AND EVT in ('B', 'C', 'D', 'E', 'F', 'G', 'H', 'L', 'N', 'O', 'P')
)
```

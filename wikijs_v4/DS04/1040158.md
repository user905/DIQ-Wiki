## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS04 Schedule |
| Severity    | WARNING |
| Unique ID   | 1040158   |
| Summary     | Is your baseline schedule missing the CD-4 milestone? |
| Error message | No row found for CD-4 milestone (milestone_level = 190) in baseline schedule (schedule_type = BL). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "CD-4 Milestone Missing in Baseline" is designed to verify the presence of the CD-4 milestone in the baseline schedule of the DS04 Schedule table. 

The CD-4 milestone is a critical component of the project schedule, and its absence could indicate a significant oversight in project planning. This milestone is identified by a milestone level of 190. 

The DIQ check is looking for at least one row in the DS04 Schedule table where the schedule type is 'BL' (indicating a baseline schedule) and the milestone level is 190 (indicating the CD-4 milestone). If no such row is found, the DIQ check will return an error message stating "No row found for CD-4 milestone (milestone_level = 190) in baseline schedule (schedule_type = BL)."

To resolve this error, ensure that your baseline schedule includes the CD-4 milestone. This can be done by adding a row to the DS04 Schedule table with a schedule type of 'BL' and a milestone level of 190.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to check if the baseline schedule in the DS04 Schedule table is missing the CD-4 milestone. The CD-4 milestone is a critical decision point in the project management process, marking the completion of the project and the start of operations. 

The severity of this test is marked as a WARNING, which means that while it may not prevent the data from being reviewed, it is likely to cause problems during analysis. The absence of the CD-4 milestone could lead to inaccurate project completion forecasts, incorrect resource allocation, and potential project delays. 

Therefore, this check is important to ensure that all necessary milestones are included in the baseline schedule for accurate project management and tracking. It helps maintain the integrity and quality of the project management data, ensuring that all critical decision points are accounted for in the project timeline.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS04_Sched_IsCD4MissingInBL] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
    * 
  FROM 
    DummyRow_Get(@upload_ID)
  WHERE
    (SELECT COUNT(*) FROM DS04_schedule WHERE upload_ID = @upload_ID AND schedule_type = 'BL' AND milestone_level = 190) = 0
)
```

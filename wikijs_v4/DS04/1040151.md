## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS04 Schedule |
| Severity    | WARNING |
| Unique ID   | 1040151   |
| Summary     | Is your forecast schedule missing the CD-0 milestone? |
| Error message | No row found for CD-0 milestone (milestone_level = 110) in forecast schedule (schedule_type = FC). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "CD-0 Milestone Missing in Forecast" is designed to ensure that your forecast schedule in the DS04 Schedule table includes the CD-0 milestone. 

The CD-0 milestone is a critical part of the project management process, marking the approval of the mission need. It is identified in the data by a milestone level of 110. The forecast schedule is identified by a schedule type of 'FC'. 

If the DIQ check returns an error message stating "No row found for CD-0 milestone (milestone_level = 110) in forecast schedule (schedule_type = FC)", this indicates that the CD-0 milestone is missing from your forecast schedule. 

This could be due to an oversight when entering data, or it could indicate a problem with the data import process. To resolve this issue, ensure that a row with a milestone level of 110 is included in the forecast schedule in the DS04 Schedule table.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to check if the forecast schedule in the DS04 Schedule table is missing the CD-0 milestone. The CD-0 milestone, also known as the "Approve Mission Need" milestone, is a critical part of the project lifecycle in the Department of Energy. It signifies the formal approval to explore alternative concepts and technologies and to define the project requirements before proceeding with the project.

The severity of this test is marked as a WARNING. This means that while the absence of the CD-0 milestone in the forecast schedule may not immediately prevent the data from being reviewed, it is likely to cause problems during the analysis of the project's progress and future forecasting. This is because the CD-0 milestone provides a key reference point in the project timeline, and its absence could lead to inaccurate forecasting and planning.

Therefore, this check is important to ensure the completeness and accuracy of the project schedule data. It helps to maintain the integrity of the project management data by ensuring that all key milestones are properly recorded and tracked in the system.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS04_Sched_IsCD0MissingInFC] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
    * 
  FROM 
    DummyRow_Get(@upload_ID)	
  WHERE
    (SELECT COUNT(*) FROM DS04_schedule WHERE upload_ID = @upload_ID AND schedule_type = 'FC' AND milestone_level = 110) = 0
)
```

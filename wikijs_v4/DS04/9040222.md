## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS04 Schedule |
| Severity    | WARNING |
| Unique ID   | 9040222   |
| Summary     | Is this WBS ID missing in the WBS Dictionary? |
| Error message | WBS_ID is missing in DS01.WBS_ID. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "WBS Missing in WBS Dictionary" is designed to verify the consistency of the Work Breakdown Structure (WBS) IDs between the DS04 Schedule table and the DS01 WBS Dictionary table. 

The WBS ID is a critical field that should be consistent across all data sets. It is used to identify and track individual work packages in the project. If a WBS ID is found in the DS04 Schedule table but not in the DS01 WBS Dictionary table, this indicates a potential data integrity issue.

The likely cause of this error is that a new WBS ID has been added to the DS04 Schedule table without a corresponding entry being made in the DS01 WBS Dictionary table. Alternatively, a WBS ID may have been incorrectly entered or deleted from the DS01 WBS Dictionary table.

To resolve this issue, you should ensure that every WBS ID in the DS04 Schedule table has a corresponding entry in the DS01 WBS Dictionary table. The WBS IDs should be identical in both tables. If a WBS ID is missing in the DS01 WBS Dictionary table, you should add it if it's a valid ID, or correct it in the DS04 Schedule table if it was entered incorrectly.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to ensure that all Work Breakdown Structure (WBS) IDs in the 'DS04 Schedule' table are also present in the WBS Dictionary (DS01). The WBS ID is a critical element in project management as it provides a structured view of the project and helps in organizing and defining the total scope of the project. 

The severity of this test is marked as a 'WARNING', which implies that if the issue is not addressed, it is likely to cause problems during the analysis of the data. The absence of a WBS ID in the WBS Dictionary could lead to inconsistencies and confusion in understanding the project's structure and progress. 

Therefore, this check is important to ensure the completeness and accuracy of the WBS IDs across different data tables, which in turn supports effective project management and accurate project analysis.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS04_Sched_IsWBSMissingInDS01] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT
		*
	FROM
		DS04_schedule 
	WHERE
			upload_id = @upload_ID
		AND WBS_ID NOT IN (SELECT WBS_ID FROM DS01_WBS WHERE upload_ID = @upload_ID)
)
```

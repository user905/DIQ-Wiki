## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS04 Schedule |
| Severity    | WARNING |
| Unique ID   | 1040172   |
| Summary     | Is your forecast schedule missing the End of PMB milestone? |
| Error message | No row found for End of PMB milestone (milestone_level = 175) in forecast schedule (schedule_type = FC). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "End of PMB Milestone Missing in Forecast" is designed to ensure that your forecast schedule in the DS04 Schedule table includes the "End of PMB" milestone. 

The error message "No row found for End of PMB milestone (milestone_level = 175) in forecast schedule (schedule_type = FC)" indicates that the check did not find any row in the DS04 Schedule table where the milestone level is set to 175 (which represents the "End of PMB" milestone) and the schedule type is 'FC' (which stands for forecast schedule).

The likely cause of this error is that the forecast schedule data being uploaded does not include the "End of PMB" milestone. This could be due to an oversight during data entry or a problem with the data extraction process. 

To resolve this issue, ensure that your forecast schedule includes the "End of PMB" milestone with a milestone level of 175.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to ensure that the forecast schedule in the DS04 Schedule table includes the End of PMB (Performance Measurement Baseline) milestone. The End of PMB milestone is a critical point in the project timeline that signifies the completion of all planned work. It is essential for tracking project progress and performance.

The severity of this test is marked as a WARNING. This means that while the absence of the End of PMB milestone in the forecast schedule may not prevent the data from being reviewed, it is likely to cause problems during analysis. The milestone provides a reference point for comparing planned work against actual work, and its absence could lead to inaccurate project performance evaluations.

Therefore, this check is important to ensure the completeness and accuracy of the project schedule data. It helps in maintaining the integrity of the project management data, which is crucial for effective decision-making and project control.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS04_Sched_IsEndOfPMBMSMissingInFC] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
    * 
  FROM 
    DummyRow_Get(@upload_ID)
  WHERE
    (SELECT COUNT(*) FROM DS04_schedule WHERE upload_ID = @upload_ID AND schedule_type = 'FC' AND milestone_level = 175) = 0	
)
```

## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS13 Subcontract |
| Severity    | ALERT |
| Unique ID   | 1130537   |
| Summary     | Is the EAC greater than the BAC on this subcontract? |
| Error message | EAC_dollars > BAC_dollars. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check for the DS13 Subcontract table is designed to ensure that the Estimated at Completion (EAC) dollars are not greater than the Budget at Completion (BAC) dollars for any given subcontract. This is a performance type check titled "EAC Dollars > BAC Dollars".

If an error is flagged by this check, it means that the EAC dollars, which represent the projected cost of the subcontract at completion, are greater than the BAC dollars, which represent the original budgeted cost at completion. This discrepancy could be due to a data entry error or it could indicate that the subcontract is projected to exceed its original budget.

The fields causing the issue are the EAC_dollars and BAC_dollars fields. The expected values for these fields would be such that the EAC_dollars are less than or equal to the BAC_dollars. If the EAC_dollars are greater than the BAC_dollars, it would indicate a potential issue with the subcontract's budget performance that may need to be addressed.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS13 Subcontract' table to check if the Estimate at Completion (EAC) is greater than the Budget at Completion (BAC) for a particular subcontract. The EAC represents the forecasted cost of the project, while the BAC is the total budget allocated for the project. 

The importance of this check is to ensure that the project is not going over budget. If the EAC is greater than the BAC, it indicates that the project is likely to cost more than what was initially budgeted, which could lead to financial issues and potential project failure. 

The severity of this check is marked as an 'ALERT', which means it's not a critical issue that would prevent the data from being reviewed, but it's a potential problem that should be addressed. It's a best practice to keep the EAC within the BAC to ensure the project is financially feasible and sustainable.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS13_SubK_ISEACGtBAC] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT
		*
	FROM 
		DS13_subK
	WHERE 
			upload_ID = @upload_ID 
		AND ISNULL(EAC_dollars,0) > ISNULL(BAC_dollars,0)
)
```

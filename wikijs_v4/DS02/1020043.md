## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS02 OBS |
| Severity    | ALERT |
| Unique ID   | 1020043   |
| Summary     | Is the OBS narrative missing? |
| Error message | Narrative is missing. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Narrative Missing" is designed to identify any instances in the DS02 OBS table where the narrative field is missing. This field is crucial for providing context and additional information about the OBS (Organizational Breakdown Structure) data.

The error message "Narrative is missing" is triggered when the narrative field in the DS02 OBS table is either null or contains only whitespace characters. This could be due to an oversight during data entry or a malfunction in the data import process.

To resolve this issue, ensure that all entries in the DS02 OBS table have a valid narrative. This narrative should be a non-empty string of characters that provides relevant information about the OBS data.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to check if the Organizational Breakdown Structure (OBS) narrative is missing in the DS02 OBS table. The OBS narrative is a crucial part of the data as it provides a detailed description of the data, explaining the structure and relationships within the data. 

The severity of this test is marked as an ALERT, which means it's not a critical issue that would prevent the data from being reviewed, but it's still important. The absence of the narrative might cause minor problems during the analysis or interpretation of the data, as it might not follow all best practices. 

The importance of this check lies in ensuring the completeness and understandability of the data. Without the narrative, users might not fully understand the context or meaning of the data, which could lead to misinterpretations or incorrect conclusions. Therefore, while it's not a critical error, it's still recommended to address this issue to maintain the quality and integrity of the data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS02_OBS_IsNarrativeMissing] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
    -- Insert statements for procedure here
	SELECT 
		* 
	FROM 
		DS02_OBS
	WHERE 
			upload_ID = @upload_ID
		AND TRIM(ISNULL(Narrative,''))=''
)
```

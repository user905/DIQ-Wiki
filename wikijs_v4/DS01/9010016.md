## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS01 WBS |
| Severity    | WARNING |
| Unique ID   | 9010016   |
| Summary     | Is this WP or PP WBS ID missing in your baseline schedule? |
| Error message | WBS_ID where type = WP or PP missing in DS04.WBS_ID list where schedule_type = BL. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "WP or PP Missing from Schedule (BL)" is designed to identify any Work Breakdown Structure (WBS) IDs that are missing from your baseline schedule in the DS04 Schedule table. This check is specifically looking for WBS IDs where the type is either 'WP' (Work Package) or 'PP' (Planning Package).

If this DIQ check returns any records, it means that there are WBS IDs in the DS01 WBS table that are not found in the DS04 Schedule table. This could be due to a data entry error, or it could indicate that the baseline schedule is not up-to-date. 

The expected values for the 'type' field in the DS01 WBS table are 'WP' or 'PP'. The 'WBS_ID' field in the DS04 Schedule table should contain all the WBS IDs from the DS01 WBS table. If any WBS IDs are missing, it could lead to inconsistencies in project management data and should be corrected. 

Please ensure that all WBS IDs are correctly entered and that the baseline schedule is kept up-to-date to maintain data integrity and quality.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to ensure that all Work Packages (WP) or Planning Packages (PP) WBS IDs are included in the baseline schedule. The test checks the 'DS01 WBS' table to see if there are any WBS IDs where the type is either WP or PP that are missing from the 'DS04.WBS_ID' list where the schedule type is 'BL' (baseline).

The importance of this check is to ensure that all work packages and planning packages are accounted for in the baseline schedule. If any are missing, it could lead to inaccuracies in project planning and execution, potentially causing delays and cost overruns. 

The severity of this check is marked as 'WARNING', which means that while it may not immediately prevent the data from being reviewed, it is likely to cause problems during analysis if not addressed. It is therefore recommended to fix this issue to ensure accurate and reliable project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS01_WBS_IsWBSMissingInDS04BL] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
    -- Insert statements for procedure here
	SELECT 
		* 
	FROM 
		DS01_WBS 
	WHERE 
			  upload_ID = @upload_ID 
		AND type in ('WP', 'PP')
    AND WBS_ID NOT IN (
      SELECT WBS_ID
      FROM DS04_schedule
      WHERE upload_ID = @upload_ID AND schedule_type = 'BL'
    )
)
```

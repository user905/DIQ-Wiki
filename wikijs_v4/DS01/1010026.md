## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS01 WBS |
| Severity    | ERROR |
| Unique ID   | 1010026   |
| Summary     | Is the Parent WBS ID missing? |
| Error message | Parent WBS ID is missing. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Parent WBS ID Missing" is designed to identify any instances in the DS01 WBS table where the Parent WBS ID is missing. This is important because the Parent WBS ID is a crucial piece of information for the proper organization and management of work breakdown structures (WBS) in the project.

The DIQ check is performed by examining each record in the DS01 WBS table. If the 'Level' field of a record is greater than 1 and the 'external' field is marked as 'N', the check then verifies whether the 'parent_WBS_ID' field is either empty or null. If it is, this indicates that the Parent WBS ID is missing for that record.

The likely cause of this error is an incomplete data entry or a data import error. The 'parent_WBS_ID' field should always contain a valid ID when the 'Level' field is greater than 1 and the 'external' field is marked as 'N'. If the 'parent_WBS_ID' field is empty or null, this suggests that the data for that record was not fully entered or imported correctly.

To resolve this issue, you should review the data entry or import process to ensure that all fields, especially the 'parent_WBS_ID' field, are being correctly populated.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to check if the Parent Work Breakdown Structure (WBS) ID is missing in the 'DS01 WBS' table. The Parent WBS ID is crucial as it provides a hierarchical structure to the project tasks, allowing for efficient organization, scheduling, and cost control. The absence of this ID could lead to confusion, mismanagement, and potential errors in project management.

The severity of this test is marked as 'ERROR', which is the highest level of severity. This means that if the Parent WBS ID is missing, it is a critical issue that must be resolved before the data can be further reviewed or analyzed. This check is of utmost importance as it ensures the data's integrity and quality, which are essential for accurate and effective project management.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS01_WBS_IsParentMissing] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
    -- Insert statements for procedure here
	SELECT 
		* 
	FROM 
		DS01_WBS
	WHERE 
		upload_ID = @upload_ID 
		AND	[Level]>1 
    AND [external] = 'N'
		AND (TRIM(parent_WBS_ID)='' OR parent_WBS_ID IS NULL)
)
```

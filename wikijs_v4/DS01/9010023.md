## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS01 WBS |
| Severity    | WARNING |
| Unique ID   | 9010023   |
| Summary     | Is the OBS ID missing in DS02 OBS? |
| Error message | OBS ID missing in the DS02 OBS ID list |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "OBS ID Missing in DS02 OBS List" is designed to verify the consistency of the OBS ID field across two datasets: DS01 WBS and DS02 OBS. 

The test checks if there are any OBS IDs in the DS01 WBS dataset that are not found in the DS02 OBS dataset. The OBS ID field is crucial for linking data between these two datasets, and any missing OBS IDs in the DS02 OBS dataset could lead to incomplete or incorrect data analysis.

If the test returns any records, it means that there are OBS IDs in the DS01 WBS dataset that are not present in the DS02 OBS dataset. This could be due to data entry errors, missing data in the DS02 OBS dataset, or inconsistencies in the way OBS IDs are assigned or recorded in the two datasets.

To resolve this issue, you should review the OBS IDs in both datasets, correct any data entry errors, and ensure that all OBS IDs in the DS01 WBS dataset have corresponding entries in the DS02 OBS dataset.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to check if there are any OBS (Organizational Breakdown Structure) IDs in the DS01 WBS (Work Breakdown Structure) table that are not present in the DS02 OBS list. The OBS ID is a unique identifier used to track and manage work elements within a project. If an OBS ID is missing from the DS02 OBS list, it could lead to inconsistencies and confusion in project management and reporting.

The severity of this test is marked as a WARNING. This means that while the data can still be reviewed, the missing OBS ID is likely to cause problems during analysis. It could lead to inaccurate project tracking, misallocation of resources, or incorrect reporting. Therefore, it's important to address this issue to ensure data integrity and quality in the EVMS construction project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS01_WBS_IsOBSIDMissingInDS02OBSIDList] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	SELECT 
		*
	FROM
		DS01_WBS
	WHERE
			upload_ID = @upload_ID
		AND OBS_ID IS NOT NULL
		and OBS_ID NOT IN (SELECT OBS_ID FROM DS02_OBS WHERE upload_ID = @upload_ID)
)
```

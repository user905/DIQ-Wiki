> Note: DIQ has been deleted.
> {.is-danger}

## Basic Information

| Key           | Value                                                                               |
| ------------- | ----------------------------------------------------------------------------------- |
| Table         | DS01 WBS                                                                            |
| Severity      | WARNING                                                                             |
| Unique ID     | 9010024                                                                             |
| Summary       | Is Overhead missing from this project?                                              |
| Error message | No rows found in DS03 where BCWSi > 0 (Dollars, Hours, or FTEs) and EOC = Overhead. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
> {.is-warning}

The Data Integrity and Quality (DIQ) check titled "Overhead Missing From Project" is designed to ensure that overhead costs are properly accounted for in each project. This check is performed on the DS01 Work Breakdown Structure (WBS) table.

The error message "No rows found in DS03 where BCWSi > 0 (Dollars, Hours, or FTEs) and EOC = Overhead" indicates that the check did not find any records in the DS03 Cost table where the Budgeted Cost of Work Scheduled (BCWSi) is greater than zero and the Element of Cost (EOC) is marked as 'Overhead'.

This could be caused by one of two issues. First, it's possible that overhead costs have not been entered into the DS03 Cost table for the project. In this case, you would need to ensure that overhead costs are properly recorded in the DS03 Cost table with the EOC field marked as 'Overhead' and the BCWSi fields (Dollars, Hours, or FTEs) greater than zero.

Second, it's possible that the overhead costs have been entered, but the EOC field is not marked as 'Overhead'. In this case, you would need to ensure that the EOC field for overhead costs is correctly marked as 'Overhead'.

In either case, the absence of overhead costs in the DS03 Cost table could lead to inaccurate project cost estimates and should be corrected as soon as possible.

## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
> {.is-warning}

This test is being performed to check if there are any overhead costs associated with the project in the DS01 WBS table. Overhead costs are indirect costs that are not directly tied to a specific activity and include expenses like utilities, office supplies, and salaries for employees not directly involved in production.

The test is looking for any rows in the DS03 table where the Budgeted Cost of Work Scheduled (BCWSi) is greater than 0, indicating that there is some planned work, and the Element of Cost (EOC) is marked as 'Overhead'. If no such rows are found, it means that overhead costs may not have been accounted for in the project.

The severity of this check is marked as 'WARNING', which means that while it's not an immediate threat to the data's integrity, it could cause problems during analysis. Overhead costs are an important part of project budgeting and their absence could lead to underestimation of the project's total cost, potentially leading to budget overruns. Therefore, it's important to address this issue to ensure accurate project cost estimation and management.

## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS01_WBS_IsOverheadBCWSMissingFromProject] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(

    SELECT	*
    FROM	DS01_WBS
    WHERE	upload_ID = @upload_id
			AND LEVEL = 1
			AND NOT EXISTS (
				SELECT 1
				FROM DS03_cost
				WHERE upload_ID = @upload_id
					AND EOC = 'OVERHEAD'
					AND (BCWSi_dollars > 0 OR BCWSi_FTEs > 0 OR BCWSi_hours > 0)
			)
)
```

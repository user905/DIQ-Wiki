> Note: DIQ has been deleted.
> {.is-danger}

## Basic Information

| Key           | Value                                                                                     |
| ------------- | ----------------------------------------------------------------------------------------- |
| Table         | DS08 WAD                                                                                  |
| Severity      | WARNING                                                                                   |
| Unique ID     | 9080422                                                                                   |
| Summary       | Are the overhead budget dollars for this WP/PP WAD missing in cost?                       |
| Error message | budget_overhead_dollars > 0 & DS03.BCWSi_dollars = 0 where EOC = overhead (by WBS_ID_WP). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
> {.is-warning}

The Data Integrity and Quality (DIQ) check titled "WP Overhead Dollars Missing In Cost" is designed to identify any discrepancies in the overhead budget dollars for a given Work Package (WP) or Planning Package (PP) in the DS08 WAD table.

The test is checking if there are any instances where the 'budget_overhead_dollars' field in the DS08 WAD table is greater than zero, but the corresponding 'BCWSi_dollars' field in the DS03 Cost table is zero. This is done for entries where the 'EOC' (Element of Cost) is marked as 'Overhead'.

If such instances are found, it indicates that there are overhead budget dollars allocated for a WP/PP in the DS08 WAD table, but these are not reflected in the DS03 Cost table. This discrepancy could be due to data entry errors, missing data, or inconsistencies between the two tables.

To resolve this issue, you should ensure that for every WP/PP with overhead budget dollars in the DS08 WAD table, there is a corresponding entry in the DS03 Cost table with a non-zero value in the 'BCWSi_dollars' field. This will ensure that the overhead costs are accurately reflected across both tables.

## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
> {.is-warning}

This test is being performed to ensure that the overhead budget dollars for a particular work package or planning package (WP/PP) are correctly accounted for in the cost. The test checks if there are any instances where the overhead budget dollars are greater than zero, but the budgeted cost of work scheduled in dollars (BCWSi_dollars) is zero for overhead costs.

The importance of this check is to ensure that all overhead costs are properly budgeted and accounted for in the project's cost. Overhead costs are indirect costs that are not directly tied to a specific activity but are necessary for the overall operation, such as utilities or management salaries. If these costs are not properly accounted for, it could lead to underestimation of the project's total cost, which could in turn lead to budget overruns or other financial issues.

The severity of this check is marked as a WARNING. This means that while it may not immediately prevent the data from being reviewed, it is likely to cause problems during analysis. It is crucial to address this issue to ensure accurate cost accounting and financial reporting for the project.

## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS08_WAD_IsOverheadBudgetMissingInDS03WP] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(

	with NonOverheadWP as (
		SELECT DISTINCT WBS_ID_WP
		FROM DS03_cost
		WHERE
				upload_ID = @upload_ID
			AND WBS_ID_WP NOT IN (
				SELECT WBS_ID_WP
				FROM DS03_cost
				WHERE upload_ID = @upload_ID AND EOC = 'Overhead' AND BCWSi_dollars <> 0
			)
	)
	SELECT
		W.*
	FROM
		DS08_WAD W INNER JOIN NonOverheadWP C ON W.WBS_ID_WP = C.WBS_ID_WP
	WHERE
			upload_ID = @upload_ID
		AND budget_overhead_dollars <> 0
)
```

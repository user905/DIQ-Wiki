## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS08 WAD |
| Severity    | MAJOR |
| Unique ID   | 9080623   |
| Summary     | Is this WP WAD type as something other than WP or PP in the WBS dictionary? |
| Error message | DS01.type <> WP or PP for this WBS_ID. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "WP WAD Mistyped In WBS Dictionary" is designed to ensure that the type of Work Package (WP) Work Authorization Document (WAD) is correctly entered in the WBS dictionary. This check is performed on the DS08 WAD table.

The error message "DS01.type <> WP or PP for this WBS_ID" indicates that the type of WP WAD is not correctly entered as either 'WP' or 'PP' in the DS01 WBS dictionary for the given WBS_ID. 

The likely cause of this error is a typographical or data entry error in the DS01 WBS dictionary. The 'type' field for the given WBS_ID should only contain the values 'WP' or 'PP'. Any other value in this field will trigger the DIQ check error. 

To resolve this issue, review the 'type' field entries in the DS01 WBS dictionary for the given WBS_ID and correct any entries that are not 'WP' or 'PP'.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to ensure that the Work Package Work Authorization Document (WP WAD) types are correctly entered in the Work Breakdown Structure (WBS) dictionary. The test checks if the WP WAD type is something other than WP (Work Package) or PP (Planning Package), which are the expected entries. 

The importance of this check is to maintain the accuracy and consistency of the data in the WBS dictionary. If the WP WAD types are not correctly entered, it could lead to confusion, misinterpretation of data, and potential errors in project management and planning. 

The severity of this test is marked as a MAJOR. This means that while it may not immediately prevent the data from being reviewed, it is likely to cause problems during data analysis. Therefore, it is recommended to address this issue to ensure the integrity and quality of the project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS08_WAD_IsWPWBSMistypedInDS01] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		W.*
	FROM
		DS08_WAD W INNER JOIN DS01_WBS WBS ON W.WBS_ID_WP = WBS.WBS_ID
	WHERE
			W.upload_ID = @upload_ID
		AND WBS.upload_ID = @upload_ID
		AND type NOT IN ('WP','PP')
)
```

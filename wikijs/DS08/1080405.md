## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS08 WAD |
| Severity    | MINOR |
| Unique ID   | 1080405   |
| Summary     | Is the CAM authorization date later than the PM's? |
| Error message | auth_CAM_date > auth_PM_date. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

Test Title: CAM Authorization After PM Authorization

Table: DS08 WAD

Summary: This test checks if the Control Account Manager's (CAM) authorization date is later than the Project Manager's (PM) authorization date.

Error Message: 'auth_CAM_date > auth_PM_date.'

Explanation: This error occurs when the CAM's authorization date (auth_CAM_date) is later than the PM's authorization date (auth_PM_date). In the DS08 WAD table, the CAM's authorization should ideally occur before or at the same time as the PM's authorization. If the CAM's authorization date is later, it indicates a potential issue with the order of authorizations in the project management process. 

To resolve this issue, please ensure that the CAM's authorization date is not later than the PM's authorization date. If the dates are correct and the CAM's authorization indeed happened after the PM's, you may need to review your project management process to ensure authorizations are happening in the correct order.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to ensure that the Control Account Manager's (CAM) authorization date is not later than the Project Manager's (PM) authorization date in the DS08 WAD table. The test is checking the condition 'auth_CAM_date > auth_PM_date', which means it's verifying if the CAM's authorization date is after the PM's authorization date.

The importance of this check is to maintain the correct sequence of authorizations in the project management process. The Project Manager's authorization should ideally come before the Control Account Manager's, as the PM is typically higher in the decision-making hierarchy. If the CAM's authorization is later, it could indicate a potential issue in the process flow or data entry error.

The severity of this test is marked as 'MINOR', which is less severe. This means that while it's not a critical error that would prevent data review, it's still a potential issue that could cause minor problems or indicate that the data doesn't fully adhere to best practices. It's a signal to review the data and correct it if necessary to ensure the integrity and quality of the project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS08_WAD_IsCAMAuthLtPMAuth] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS08_WAD
	WHERE
			upload_ID = @upload_ID
		AND auth_CAM_date > auth_PM_date
)
```

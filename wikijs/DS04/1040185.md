## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS04 Schedule |
| Severity    | MINOR |
| Unique ID   | 1040185   |
| Summary     | Is a sufficient justification lacking for this task with lag? |
| Error message | Lag justification was insufficient. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Insufficient Lag Justification" is performed on the DS04 Schedule table. This check is designed to identify any tasks where the justification for the lag is insufficient. 

The error message "Lag justification was insufficient" is likely to be triggered when the 'justification_lag' field in the DS04 Schedule table contains a value, but that value does not include any spaces. This suggests that the justification provided is a single word, which is typically not sufficient to explain the reason for a delay in a task.

To avoid triggering this error, ensure that the 'justification_lag' field contains a detailed explanation for any lag in a task. This explanation should be more than a single word and provide enough information to understand the reason for the delay.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to ensure that there is sufficient justification for any lag in the tasks within the DS04 Schedule table. The lag refers to the delay between tasks in a project schedule. It's important to provide a valid reason for any lag in a project schedule to maintain transparency and accountability. 

The severity of this test is marked as an MINOR, which means it's not a critical issue that would prevent the data from being reviewed, but it's still important to address. Insufficient lag justification might lead to minor problems in understanding the project timeline or could indicate that the data doesn't fully adhere to best practices. 

In the context of EVMS (Earned Value Management System) for construction project management, maintaining accurate and justified schedule data is crucial for effective project control and management. Therefore, this check is important to ensure the integrity and quality of the project schedule data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS04_Sched_IsLagJustificationInsufficient] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS04_schedule
	WHERE
			upload_ID = @upload_ID
		AND justification_lag IS NOT NULL
		AND CHARINDEX(' ',TRIM([justification_lag])) = 0
)
```

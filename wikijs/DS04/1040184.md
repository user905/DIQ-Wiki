## Basic Information

| Key           | Value                                                                                                                     |
| ------------- | ------------------------------------------------------------------------------------------------------------------------- |
| Table         | DS04 Schedule                                                                                                             |
| Severity      | MINOR                                                                                                                     |
| Unique ID     | 1040184                                                                                                                   |
| Summary       | Is this FC task with high float missing a justification in the forecast schedule?                                         |
| Error message | justification_high_float is blank where task schedule_type = FC and float_total_days > 10% of project remaining duration. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
> {.is-warning}

The Data Integrity and Quality (DIQ) check titled "High Float Missing Justification (FC)" is designed to ensure that all tasks in the DS04 Schedule table with a high float value have an associated justification.

A high float value is defined as a task where the total float days are greater than 10% of the remaining project duration. The remaining project duration is calculated as the difference between the CPP status date and the EF date for tasks in the forecast schedule (FC) with a milestone level of 175.

If a task meets these criteria and does not have a justification (i.e., the 'justification_high_float' field is blank), then the DIQ check will flag this as an error.

The likely cause of this error is that a task with a high float value was entered into the DS04 Schedule table without a corresponding justification. This could be due to an oversight during data entry or a lack of understanding about the importance of providing justifications for tasks with high float values.

To resolve this error, a justification should be provided for all tasks with high float values. This justification should be entered into the 'justification_high_float' field in the DS04 Schedule table.

## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
> {.is-warning}

This test is being performed on the 'DS04 Schedule' table to check for tasks with high float that are missing a justification in the forecast schedule. High float refers to the amount of time that you can delay a task without it causing a delay to subsequent tasks or the project completion date. If a task has a high float (more than 10% of the project's remaining duration), it is expected to have a justification for this.

The importance of this check is to ensure that all tasks with high float are properly justified. This is crucial for maintaining the integrity and quality of the project schedule data. Without a proper justification, it could lead to misinterpretation of the project timeline and potential delays in project completion.

The severity of this test is marked as 'MINOR', which means it is less severe but indicates there might be minor problems or that the data doesn't follow all best practices. It is not a critical error, but it is a best practice to provide justifications for tasks with high float to ensure clear and accurate project management.

## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS04_Sched_IsHighFloatJustificationMissingFC] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(

	with RemDur as (
		SELECT MAX(DATEDIFF(d,CPP_status_date,EF_date)) RemDur
		FROM DS04_schedule
		WHERE upload_ID = @upload_ID AND schedule_type = 'FC' AND milestone_level = 175
	)
	SELECT
		*
	FROM
		DS04_schedule
	WHERE
			upload_id = @upload_ID
		AND schedule_type = 'FC'
		AND float_total_days / NULLIF((SELECT TOP 1 RemDur FROM RemDur),0) >= .1
		AND TRIM(ISNULL(justification_float_high,''))=''
		AND (SELECT TOP 1 RemDur FROM RemDur) > 0
)
```

### Changelog

| Date       | Description of Changes                |
| ---------- | ------------------------------------- |
| 2024-04-30 | Minor metadata updates & corrections. |

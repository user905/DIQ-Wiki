## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS04 Schedule |
| Severity    | MINOR |
| Unique ID   | 1040205   |
| Summary     | Is this major pre-CD3 milestone not coded as a start milestone? |
| Error message | Project-level pre-CD3 milestone (milestone_level <= 150) is not coded as a start milestone (type = SM). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Pre-CD3 Project Milestone Not Coded As Start Milestone" is designed to ensure that all major pre-CD3 milestones in the DS04 Schedule table are correctly coded as start milestones. 

The error message "Project-level pre-CD3 milestone (milestone_level <= 150) is not coded as a start milestone (type = SM)" indicates that there are entries in the DS04 Schedule table where the milestone level is between 100 and 150, but the milestone type is not coded as 'SM' (Start Milestone). 

The likely cause of this error is incorrect data entry in the 'milestone_level' and 'type' fields. The expected values for these fields are a number between 100 and 150 for 'milestone_level' and 'SM' for 'type'. 

To resolve this issue, please review the entries in the DS04 Schedule table and ensure that all pre-CD3 milestones (milestone_level between 100 and 150) are correctly coded as start milestones (type = 'SM').
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to ensure that major pre-CD3 milestones in the DS04 Schedule table are correctly coded as start milestones. The pre-CD3 milestone is a significant event in the project timeline, marking the transition from the conceptual design phase to the preliminary design phase. Therefore, it is crucial that it is correctly identified as a start milestone in the data.

The importance of this check lies in maintaining the accuracy and consistency of the project timeline data. If the pre-CD3 milestone is not correctly coded, it could lead to confusion or misinterpretation of the project's progress and status during data analysis. This could potentially impact decision-making and project management processes.

The severity of this issue is marked as an MINOR. This means that while it may not immediately prevent data review or analysis, it could cause minor problems or indicate that the data does not fully adhere to best practices. Therefore, it is recommended to address this issue to ensure optimal data integrity and quality.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS04_Sched_IsPreCD3ProjectMSNotCodedAsSM] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT
		*
	FROM
		DS04_schedule
	WHERE
			upload_ID = @upload_ID
		AND	milestone_level BETWEEN 100 AND 150
		AND type <> 'SM'
)
```

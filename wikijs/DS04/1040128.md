## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS04 Schedule |
| Severity    | MAJOR |
| Unique ID   | 1040128   |
| Summary     | Does this milestone have a % Complete other than 0 or 100%? |
| Error message | Milestone (type = SM or FM) with a % complete other than 0 or 100% (pc_duration, pc_units, pc_physical). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Milestone % Complete Not Equal To 0 Or 100%" is designed to identify any milestones in the DS04 Schedule table that have a completion percentage other than 0% or 100%. This check is specifically for milestones of type 'SM' or 'FM'. 

The fields that are checked for this condition are 'PC_duration', 'PC_units', and 'PC_physical'. If any of these fields contain a value other than 0 or 1 (representing 0% and 100% respectively), the DIQ check will flag it as an error. 

The likely cause of this error would be incorrect data entry. For instance, a milestone might be incorrectly marked as 50% complete when it should be either 0% (not started) or 100% (fully completed). 

To resolve this issue, ensure that the completion percentage for all 'SM' or 'FM' type milestones in the DS04 Schedule table are accurately recorded as either 0% or 100%.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS04 Schedule' table to ensure that the milestones, specifically of type SM or FM, are either 0% or 100% complete. The test checks the 'pc_duration', 'pc_units', and 'pc_physical' fields for any values other than 0 or 100. 

The importance of this check is to maintain the accuracy and consistency of the project's progress data. In project management, a milestone typically represents a significant event or a point in the project that is either completely unfinished (0%) or fully completed (100%). Having a milestone percentage complete other than 0 or 100 could lead to confusion or misinterpretation of the project's status.

The severity of this test is marked as 'MAJOR', which means that while it may not prevent the data from being reviewed, it is likely to cause problems during analysis. It is crucial to address this issue to ensure the data's integrity and to facilitate accurate project tracking and forecasting.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS04_Sched_DoesMSHavePCNEqTo0Or1] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT
		*
	FROM
		DS04_schedule
	WHERE
			upload_id = @upload_ID
		AND type IN ('SM','FM')
		AND (
			(PC_duration <> 0 AND PC_duration <> 1) OR 
			(PC_physical <> 0 AND PC_physical <> 1) OR
			(PC_units <> 0 AND PC_units <> 1)
		) 
)
```

## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS04 Schedule |
| Severity    | MAJOR |
| Unique ID   | 1040124   |
| Summary     | Does this WBS Summary task or Start/Finish Milestone have an EVT? |
| Error message | EVT found (EVT <> null or blank) on WBS Summary task or Start/Finish Milestone (type = SM, FM, or WS). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "WBS Summary Task or Milestone with EVT" is designed to ensure that no Earned Value Technique (EVT) is associated with a Work Breakdown Structure (WBS) Summary task or a Start/Finish Milestone. These are identified in the DS04 Schedule table by the 'type' field having values 'SM' (Start Milestone), 'FM' (Finish Milestone), or 'WS' (WBS Summary).

The error message "EVT found (EVT <> null or blank) on WBS Summary task or Start/Finish Milestone (type = SM, FM, or WS)" indicates that an EVT has been found where it should not be. This could be due to an incorrect data entry or a system error.

To resolve this issue, review the entries in the DS04 Schedule table, specifically the 'type' and 'EVT' fields. Ensure that no EVT is associated with a WBS Summary task or a Start/Finish Milestone. The 'EVT' field for these types of tasks should be null or blank.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS04 Schedule' table to check if any Work Breakdown Structure (WBS) Summary tasks or Start/Finish Milestones have an Earned Value Technique (EVT). The test is looking for instances where an EVT is found (i.e., the EVT field is not null or blank) on a WBS Summary task or Start/Finish Milestone. 

The importance of this check is to ensure that the data is consistent and accurate. In the context of project management, an EVT should not be associated with a WBS Summary task or a Start/Finish Milestone. These are typically high-level tasks or milestones that summarize or mark the start or end of a series of tasks, and therefore should not have an EVT, which is a measure of work performed. 

The severity of this test is marked as a 'MAJOR', which means that while it may not prevent the data from being reviewed, it is likely to cause problems during analysis. If an EVT is incorrectly associated with a WBS Summary task or Start/Finish Milestone, it could lead to inaccurate calculations or interpretations of the project's progress or performance. Therefore, it is crucial to address this issue to ensure the integrity and quality of the project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS04_Sched_DoesEVTExistOnMSOrWBSSummary] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT
		*
	FROM
		DS04_schedule
	WHERE
			upload_id = @upload_ID
		AND type IN ('SM','FM','WS')
		AND ISNULL(EVT,'') <> ''
)
```

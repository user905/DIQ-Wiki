## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS10 CC Log Detail |
| Severity    | MAJOR |
| Unique ID   | 1100461   |
| Summary     | Is this change to AUW missing a dollar amount? |
| Error message | AUW = Y & dollars_delta = null or zero. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "AUW Change Missing Dollars Delta" is designed to ensure that all changes to the Authorized Unpriced Work (AUW) in the DS10 CC Log Detail table are associated with a dollar amount. 

The error message "AUW = Y & dollars_delta = null or zero" indicates that there are entries in the DS10 CC Log Detail table where the AUW field is marked as 'Y' (indicating a change to the AUW), but the associated dollars_delta field is either null or zero. This suggests that a change to the AUW has been recorded without an associated change in dollar amount, which could be due to a data entry error or omission.

To maintain data integrity and quality, it is expected that any change to the AUW should be associated with a non-zero dollar amount. Therefore, the dollars_delta field should contain a non-zero value whenever the AUW field is marked as 'Y'. If this DIQ check returns any records, it indicates that there are entries in the DS10 CC Log Detail table that do not meet this expectation and may require correction or further investigation.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS10 CC Log Detail' table to check for any changes to the Authorized Unpriced Work (AUW) that are missing a dollar amount. The test is looking for instances where AUW is marked as 'Y' (indicating a change) but the 'dollars_delta' field is either null or zero, suggesting that no dollar amount has been associated with this change.

The importance of this check is to ensure that all changes to AUW are accurately reflected with a corresponding dollar amount. This is crucial for maintaining accurate financial records and for ensuring that all changes to the project's scope are properly accounted for. If this issue is not addressed, it could lead to inaccuracies in financial reporting and potential issues during project analysis. 

The severity of this check is marked as 'MAJOR', indicating that while it may not prevent the data from being reviewed, it is likely to cause problems during analysis. Therefore, it is recommended that this issue be addressed to maintain the integrity and quality of the project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS10_CCLogDetails_IsAUWChangeMissingDollars] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM 
		DS10_CC_log_detail
	WHERE 
			upload_ID = @upload_ID
		AND AUW = 'Y'
		AND (ISNULL(dollars_delta,0) = 0)
)
```

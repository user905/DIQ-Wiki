## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS01 WBS |
| Severity    | MINOR |
| Unique ID   | 1010013   |
| Summary     | Is there a BWC ID for a WBS element of type CA or WBS? |
| Error message | BWC ID found on WBS element of type CA or WBS |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "BWC ID Found on CA or WBS" is designed to verify the presence of a BWC ID for each WBS element of type CA or WBS in the DS01 WBS table. 

The BWC ID is a crucial identifier for each WBS element. If the DIQ check finds a WBS element of type CA or WBS without a BWC ID, it will flag this as an error. This could be due to missing data during the data entry process or an error in the data import process.

The expected values for the fields in question are as follows: 
- The 'BWC_ID' field should not be null or empty. It should contain a valid BWC ID.
- The 'type' field should contain either 'CA' or 'WBS'. 

If these conditions are not met, the DIQ check will flag the record as having an issue. To resolve this, ensure that all WBS elements of type CA or WBS have a valid BWC ID.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to check if there is a Budgeted Work Cost (BWC) ID associated with a Work Breakdown Structure (WBS) element of type Control Account (CA) or WBS. The test is important because it ensures that each WBS element, whether it's a CA or WBS, has a unique BWC ID. This is crucial for tracking and managing the budgeted cost for each element of the project.

The severity of this test is marked as an MINOR. This means that while it's not a critical issue that would prevent the data from being reviewed, it could potentially cause minor problems or indicate that the data doesn't adhere to all best practices. For instance, if a BWC ID is not found for a WBS element, it might make it more difficult to track the budgeted cost for that element, which could lead to inaccuracies in budget management and reporting. Therefore, it's recommended to address this issue to ensure the integrity and quality of the project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS01_WBS_IsBWCOnCAorWBS] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	SELECT 
		*
	FROM
		DS01_WBS
	WHERE
			upload_ID = @upload_ID
		AND ISNULL(BWC_ID,'') <> ''
		AND type IN ('CA','WBS')
)
```

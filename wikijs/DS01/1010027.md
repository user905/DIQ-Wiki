## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS01 WBS |
| Severity    | MINOR |
| Unique ID   | 1010027   |
| Summary     | Is the Parent WBS ID missing from the Child WBS ID? |
| Error message | Parent WBS ID was not not found in the Child WBS ID. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Parent WBS ID Missing From Child WBS ID" is designed to ensure that the Parent Work Breakdown Structure (WBS) ID is included within the Child WBS ID in the DS01 WBS table. 

The WBS ID and Parent WBS ID are critical fields in project management as they help in organizing tasks and subtasks in a hierarchical structure. The Child WBS ID should always contain the Parent WBS ID as part of its structure. 

If the DIQ check returns any records, it indicates that there are Child WBS IDs that do not contain their corresponding Parent WBS IDs. This could be due to data entry errors or issues with data import processes. 

To resolve this issue, you should review the returned records and correct the Child WBS IDs to include the Parent WBS IDs. This will ensure the integrity and quality of the WBS data, which is crucial for accurate project management and reporting.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to ensure that the Work Breakdown Structure (WBS) in the DS01 WBS table is correctly structured. The WBS is a key project deliverable that organizes the team's work into manageable sections. The Parent WBS ID should be included in the Child WBS ID to maintain a hierarchical relationship and ensure proper tracking and management of the project.

The importance of this check is to ensure that the project's structure is correctly defined and that all tasks are properly nested under their respective parent tasks. This is crucial for accurate project planning, scheduling, and cost estimation. 

The severity of this test is marked as an MINOR, which means it's not a critical error but could lead to minor problems or inefficiencies. It's a best practice to include the Parent WBS ID in the Child WBS ID for better organization and understanding of the project structure.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS01_WBS_IsParentWBSIDMissingFromChildWBSID] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
    -- Insert statements for procedure here
	SELECT 
		* 
	FROM 
		DS01_WBS
	WHERE 
			upload_ID = @upload_ID
		AND WBS_ID NOT LIKE '%' + parent_WBS_ID + '%'
)
```

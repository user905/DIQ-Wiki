## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS01 WBS |
| Severity    | WARNING |
| Unique ID   | 9010015   |
| Summary     | Is this WP or PP WBS ID missing in your forecast schedule? |
| Error message | WBS_ID where type = WP or PP missing in DS04.WBS_ID list where schedule_type = FC. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "WP or PP Missing from Schedule (FC)" is designed to verify the consistency of data between the DS01 WBS table and the DS04 Schedule table. 

This check specifically looks for Work Breakdown Structure IDs (WBS_ID) in the DS01 WBS table that are of type 'WP' (Work Package) or 'PP' (Planning Package) but are not found in the DS04 Schedule table where the schedule type is 'FC' (Forecast). 

If the DIQ check returns any records, it indicates that there are Work Packages or Planning Packages that are missing from your forecast schedule. This could be due to an error in data entry, a missing update in the schedule, or a discrepancy between the WBS and the schedule data.

To resolve this issue, you should review the returned WBS_IDs and ensure that they are correctly entered in the DS04 Schedule table with the schedule type 'FC'. If these WBS_IDs are not supposed to be in the forecast schedule, you may need to update their types in the DS01 WBS table.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to ensure that all Work Packages (WP) or Planning Packages (PP) WBS IDs are included in the forecast schedule. The test checks the 'DS01 WBS' table to see if there are any WBS IDs where the type is either WP or PP that are missing from the 'DS04.WBS_ID' list where the schedule type is 'FC' (Forecast).

The importance of this check is to ensure that all work or planning packages are accounted for in the forecast schedule. If any are missing, it could lead to inaccurate forecasting, planning, and budgeting. This could potentially cause problems during project management and analysis, hence the severity level is set to 'WARNING'. This means that while the data can still be reviewed, the issue is likely to cause problems during analysis and should be addressed to ensure data integrity and quality.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS01_WBS_IsWBSMissingInDS04FC] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
    -- Insert statements for procedure here
	SELECT 
		* 
	FROM 
		DS01_WBS 
	WHERE 
			  upload_ID = @upload_ID 
		AND type in ('WP', 'PP')
    AND WBS_ID NOT IN (
      SELECT WBS_ID
      FROM DS04_schedule
      WHERE upload_ID = @upload_ID AND schedule_type = 'FC'
    )
)
```

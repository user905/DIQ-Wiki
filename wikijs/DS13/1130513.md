## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS13 Subcontract |
| Severity    | MAJOR |
| Unique ID   | 1130513   |
| Summary     | Is this subcontract with actual finish date missing an actual start? |
| Error message | AF_date found without AS_date. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Actual Finish Without Actual Start" is performed on the DS13 Subcontract table. This check is designed to identify any instances where a subcontract has an actual finish date (AF_date) recorded, but lacks an actual start date (AS_date). 

The error message "AF_date found without AS_date" indicates that there is a subcontract that has been marked as finished, but there is no recorded start date. This could be due to a data entry error or omission. 

In a typical scenario, every subcontract that has an actual finish date should also have an actual start date. The absence of a start date could lead to inaccuracies in project timelines and budgeting. Therefore, it is crucial to ensure that both these fields are accurately filled in for every subcontract. 

If this error is encountered, it is recommended to review the data entry process for the DS13 Subcontract table and ensure that both the actual start and finish dates are being correctly recorded for each subcontract.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS13 Subcontract' table to check for instances where a subcontract has an actual finish date (AF_date) but is missing an actual start date (AS_date). The test is important because it ensures the integrity and completeness of the project timeline data. 

The severity of this test is marked as 'MAJOR', which means that while it may not prevent the data from being reviewed, it is likely to cause problems during analysis. For instance, without an actual start date, it would be impossible to accurately calculate the duration of the subcontract or to track the project's progress over time. This could lead to inaccurate reporting and decision-making. Therefore, it is crucial to address this issue to maintain the quality and reliability of the project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS13_SubK_DoesAFDateExistWithoutAS] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT
		*
	FROM 
		DS13_subK
	WHERE 
			upload_ID = @upload_ID 
		AND AF_date IS NOT NULL
		AND AS_date IS NULL
)
```

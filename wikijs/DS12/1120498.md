## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS12 Variance CAL |
| Severity    | MAJOR |
| Unique ID   | 1120498   |
| Summary     | Is the initial date for this corrective action after the original due date? |
| Error message | initial_date > original_due_date. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

Test Title: Initial Date After Original Due Date

Test Summary: This Data Integrity and Quality (DIQ) check is designed to verify the chronological order of the 'Initial Date' and the 'Original Due Date' in the DS12 Variance CAL table. 

Error Message: 'initial_date > original_due_date.'

Explanation: The error occurs when the 'Initial Date' for a corrective action is recorded as being later than the 'Original Due Date'. This is not logically possible as the initial date should always precede or be the same as the original due date. 

Fields Causing the Issue: The fields causing this issue are 'Initial Date' and 'Original Due Date'. 

Expected Values: The 'Initial Date' should be either the same as or earlier than the 'Original Due Date'. If the 'Initial Date' is later than the 'Original Due Date', this will trigger the error. 

To resolve this issue, please review the data entries in the 'Initial Date' and 'Original Due Date' fields in the DS12 Variance CAL table and ensure that the dates are entered in the correct chronological order.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS12 Variance CAL' table to check if the initial date for a corrective action is after the original due date. The purpose of this test is to ensure that the corrective actions are being initiated in a timely manner, as per the original schedule. If the initial date is after the original due date, it could indicate delays in the project, which could potentially lead to cost overruns and other issues.

The severity of this check is marked as 'MAJOR', which means that while it may not prevent the data from being reviewed, it is likely to cause problems during analysis. It is important to address this issue because it could affect the accuracy of the project timeline and the effectiveness of the corrective actions. This check helps maintain the integrity and quality of the project management data by ensuring that the timelines are accurately represented and adhered to.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS12_VAR_CAL_IsInitDateGtOriginalDate] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT
		*
	FROM 
		DS12_variance_CAL
	WHERE 
			upload_ID = @upload_ID
		AND initial_date > original_due_date
)
```

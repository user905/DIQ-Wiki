## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS06 Resources |
| Severity    | MINOR |
| Unique ID   | 1060267   |
| Summary     | Does this indirect resource have hours? |
| Error message | budget, actual, or remaining units > 0 where EOC = Indirect. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This Data Integrity and Quality (DIQ) check is designed to ensure the accuracy and consistency of data within the DS06 Resources table, specifically focusing on indirect resources and their associated hours. The purpose of this check is to verify that indirect resources are correctly recorded with hours in terms of budget, actual, or remaining units.

When an indirect resource is identified with hours (i.e., budget, actual, or remaining units greater than 0), it may indicate a potential issue in how resources are classified or how their hours are allocated. Indirect resources typically include overhead costs or support services that are not directly tied to a specific project task or activity. Therefore, the expectation is that indirect resources should not have hours directly assigned to them in the same manner as direct resources.

The fields involved in this check are:
- EOC (Element of Cost): This field should be marked as 'Indirect' for the resources in question.
- Budget Units: The planned hours allocated to the resource.
- Actual Units: The actual hours spent by the resource.
- Remaining Units: The estimated hours remaining for the resource.

An error flagged by this DIQ test suggests that there may be a misclassification of the resource as indirect while it has hours allocated, or there could be an incorrect entry of hours against an indirect resource. The expected values for an indirect resource would typically be zero hours in the budget, actual, and remaining units fields, indicating no direct hours are allocated to these resources.

To resolve issues flagged by this test, review the classification of the resource as indirect and ensure that hours are only allocated to direct resources that contribute directly to project tasks or activities. If the resource is correctly classified as indirect, then the hours should be reviewed and corrected as necessary to reflect the nature of indirect resources accurately.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This DIQ test, titled "Indirect With Hours," is performed on the "DS06 Resources" table to check if indirect resources have been allocated hours, as indicated by budget, actual, or remaining units being greater than 0 where the End of Cost (EOC) is marked as "Indirect." The purpose of this test is to ensure that indirect resources, which typically include overhead costs not directly tied to specific project tasks (like administrative expenses, facility costs, etc.), are accurately represented in terms of hours allocated. This is important because it helps in the accurate tracking and allocation of indirect costs to various project components, ensuring that the project budget reflects both direct and indirect costs accurately.

The severity level of this test is marked as an "MINOR," which is the least severe among the categories. This indicates that while the presence of hours against indirect resources is not following best practices, it is not likely to cause significant problems during data analysis or project management. However, it does signal a potential deviation from standard accounting practices or an error in data entry that should be reviewed. Addressing this alert helps in maintaining the integrity of project cost management and ensures that the financial reporting related to the project is accurate and complies with the best practices and guidelines set forth by the US Department of Energy for EVMS (Earned Value Management System) construction project management.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS06_Res_DoesIndirectHaveUnits] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	SELECT *
	FROM DS06_schedule_resources 
	WHERE upload_id = @upload_ID 
		AND EOC = 'Indirect'
		AND (budget_units > 0 OR actual_units > 0 OR remaining_units > 0)
)
```

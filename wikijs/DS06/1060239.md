## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS06 Resources |
| Severity    | MINOR |
| Unique ID   | 1060239   |
| Summary     | Is this Labor EOC mistyped? |
| Error message | Labor EOC (EOC = labor) does not have a type of labor (type <> labor). |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Mistyped Labor EOC" is designed to identify potential errors in the "DS06 Resources" table. Specifically, it is looking for instances where the "EOC" field is labeled as 'Labor', but the corresponding "type" field is not labeled as 'Labor'. 

This discrepancy could be due to a data entry error or a misclassification of the resource type. The expected value for the "type" field, when the "EOC" field is 'Labor', should also be 'Labor'. 

If this DIQ check identifies any records, it indicates that there are resources classified as 'Labor' in the "EOC" field, but not classified as 'Labor' in the "type" field. This inconsistency needs to be corrected to ensure data integrity and quality in the "DS06 Resources" table.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to ensure that the 'Labor EOC' field in the 'DS06 Resources' table is correctly classified as 'labor'. The test checks if the 'Labor EOC' (EOC stands for Element of Cost) is mistyped and does not match the expected 'labor' type. 

The importance of this check is to maintain the accuracy and consistency of the data. If the 'Labor EOC' is not correctly classified, it could lead to incorrect data analysis and reporting, which could impact decision-making processes. 

The severity of this issue is classified as an 'MINOR'. This means that while it may not immediately prevent data from being reviewed, it could potentially cause minor problems or indicate that the data does not adhere to all best practices. Therefore, it is recommended to address this issue to ensure the highest quality and integrity of the data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS06_Res_IsLaborEOCMistyped] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT
		*
	FROM
		DS06_schedule_resources
	WHERE
			upload_id = @upload_ID
		AND EOC = 'Labor'
		AND type <> 'Labor'
)
```

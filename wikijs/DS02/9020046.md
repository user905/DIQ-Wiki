## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS02 OBS |
| Severity    | MINOR |
| Unique ID   | 9020046   |
| Summary     | Is the OBS ID missing in the DS01 OBS List? |
| Error message | OBS ID is missing in the DS02 OBS ID list. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "OBS ID Missing in DS01 OBS List" is designed to verify the consistency of the OBS ID field across two datasets: DS01 OBS List and DS02 OBS. 

The test checks if there are any OBS IDs present in the DS02 OBS dataset that are not found in the DS01 OBS List. If such OBS IDs are found, it indicates a discrepancy between the two datasets, which could be due to data entry errors, missing data in the DS01 OBS List, or incorrect linking between the two datasets.

The OBS ID field is crucial for maintaining data integrity as it is used to link and cross-reference data between the two datasets. Therefore, it is expected that all OBS IDs in the DS02 OBS dataset should also be present in the DS01 OBS List. If the test returns any OBS IDs, these represent inconsistencies that need to be addressed to ensure data integrity and quality. 

To resolve this issue, you should review the OBS IDs returned by the test and cross-check them with the DS01 OBS List. If the OBS IDs are indeed missing from the DS01 OBS List, you should investigate why these entries are missing and take appropriate action to correct the data.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to check if the OBS (Organizational Breakdown Structure) ID in the DS02 OBS table is missing in the DS01 OBS List. The OBS ID is a unique identifier for each element in the OBS, which is a hierarchical, tree-like structure that shows the internal management structure of the project. 

The importance of this check is to ensure that all OBS IDs in the DS02 OBS table are also present in the DS01 OBS List. This is crucial for maintaining data consistency and accuracy across different tables. If an OBS ID is missing, it could lead to issues in tracking and managing the project, as well as in data analysis.

The severity of this check is marked as an MINOR. This means that while it's not a critical error that would prevent the data from being reviewed, it's still a potential issue that could cause minor problems or indicate that the data doesn't follow all best practices. Therefore, it's recommended to address this issue to ensure the highest quality and integrity of the project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS02_OBS_IsOBSMissingInDS01] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	SELECT 
		*
	FROM
		DS02_OBS
	WHERE
			upload_ID = @upload_ID
		AND TRIM(ISNULL(OBS_ID,'')) <> ''
		and OBS_ID NOT IN (SELECT OBS_ID FROM DS01_WBS WHERE upload_ID = @upload_ID)
)
```

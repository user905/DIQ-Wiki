## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS09 CC Log |
| Severity    | MAJOR |
| Unique ID   | 1090447   |
| Summary     | Is the PM name missing on this CC log entry? |
| Error message | PM null or blank. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

Test Name: Missing PM

Table: DS09 CC Log

Summary: This Data Integrity and Quality (DIQ) check is designed to identify any instances where the Project Manager (PM) name is missing in the DS09 CC Log table.

Error Message: PM null or blank.

Explanation: The error is likely to occur when the PM field in the DS09 CC Log table is either left blank or contains null values. The PM field is crucial as it identifies the Project Manager associated with each entry in the CC Log. If this field is missing, it could lead to confusion and mismanagement of project resources. 

Expected Values: The PM field should contain the name of the Project Manager. It should not be left blank or contain null values. 

To resolve this issue, ensure that each entry in the DS09 CC Log table has a valid PM name. This will improve the integrity and quality of the project management data.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS09 CC Log' table to check if the Project Manager (PM) name is missing on any of the Construction Control (CC) log entries. The severity level is 'MAJOR', which means that while it may not prevent the data from being reviewed, it is likely to cause problems during analysis. 

The importance of this check lies in ensuring the completeness and accuracy of the data. The PM name is a crucial piece of information in project management data as it identifies who is responsible for the project. If this information is missing, it could lead to confusion, miscommunication, or errors in project management and analysis. Therefore, it's important to identify and rectify any instances where the PM name is null or blank.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS09_CCLog_IsPMNameMissing] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS09_CC_log
	WHERE
			upload_ID = @upload_ID  
		AND TRIM(ISNULL(PM,'')) = ''
)
```

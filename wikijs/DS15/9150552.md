## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS15 Risk Register |
| Severity    | MINOR |
| Unique ID   | 9150552   |
| Summary     | Is this risk mitigation task missing in the baseline schedule? |
| Error message | risk_handling = Mitigate & risk_ID not in BL DS04.RMT_ID list. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Risk Mitigation Task Missing In Baseline Schedule" is designed to ensure that all risk mitigation tasks identified in the DS15 Risk Register are also included in the baseline schedule (DS04 Schedule). 

This check is important because it helps to ensure that all identified risks have been properly planned for and included in the project schedule. If a risk mitigation task is identified in the DS15 Risk Register but is not found in the baseline schedule, it could indicate a potential oversight in project planning.

The fields involved in this check are 'risk_handling' from the DS15 Risk Register and 'RMT_ID' from the DS04 Schedule. The 'risk_handling' field should have the value 'Mitigate' to indicate that the risk is being actively managed. The 'risk_ID' field in the DS15 Risk Register should match a 'RMT_ID' in the DS04 Schedule to indicate that the risk mitigation task has been included in the project schedule.

If the DIQ check fails, it is likely because a risk mitigation task has been identified in the DS15 Risk Register but has not been included in the DS04 Schedule. This could be due to an oversight in project planning or a data entry error. To resolve this issue, review the identified risks and ensure that all mitigation tasks have been included in the project schedule.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to check if there are any risk mitigation tasks that are missing in the baseline schedule. The baseline schedule is a crucial part of project management as it serves as a reference point for the project's progress. If a risk mitigation task is missing from this schedule, it could potentially lead to unforeseen issues and complications during the project's execution.

The importance of this check lies in ensuring that all necessary risk mitigation tasks are included in the baseline schedule. This is crucial for effective risk management and for the project to proceed smoothly without any unexpected hindrances. 

The severity of this test is marked as an MINOR. This means that while it may not immediately halt the review or analysis of the data, it could potentially cause minor problems or indicate that the data does not adhere to all best practices. Therefore, it is advisable to address this issue to ensure the integrity and quality of the project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS15_Risk_Register_IsMitigateRiskMissingInDS04] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM 
		DS15_risk_register
	WHERE 
			upload_ID = @upload_ID
		AND risk_handling = 'Mitigate'
		AND risk_ID NOT IN (
			SELECT RMT_ID
			FROM DS04_schedule
			WHERE upload_ID = @upload_ID AND schedule_type = 'BL'
		)
)
```

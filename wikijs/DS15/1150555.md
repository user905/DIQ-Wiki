## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS15 Risk Register |
| Severity    | MINOR |
| Unique ID   | 1150555   |
| Summary     | Is the minimum probability schedule percent greater than the max percent? |
| Error message | probability_schedule_min_pct > probability_schedule_max_pct. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Probability Schedule Min % Greater Than Max %" is performed on the DS15 Risk Register data. This check is designed to ensure that the minimum probability schedule percent is not greater than the maximum probability schedule percent. 

If an error is flagged by this DIQ check, it indicates that there are instances in the data where the 'probability_schedule_min_pct' field value is greater than the 'probability_schedule_max_pct' field value. This is a logical inconsistency, as the minimum probability should always be less than or equal to the maximum probability.

To resolve this issue, review the data entries in the 'probability_schedule_min_pct' and 'probability_schedule_max_pct' fields. Ensure that the value entered for the minimum probability schedule percent is not greater than the value entered for the maximum probability schedule percent. Correct any inconsistencies found to maintain the integrity and quality of the DS15 Risk Register data.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS15 Risk Register' table to check if the minimum probability schedule percent is greater than the maximum percent. This is an important check because in a normal scenario, the minimum value should not be greater than the maximum value. If this is the case, it indicates that there may be an error in data entry or calculation.

The severity of this test is marked as 'MINOR', which means it is not a critical issue that would prevent the data from being reviewed, but it could potentially cause minor problems or indicate that the data does not follow all best practices. It's important to address this issue to ensure the accuracy and reliability of the project risk assessment. Incorrect probability percentages could lead to misinterpretation of the risk levels, which could in turn affect project decision-making and risk management strategies.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS15_Risk_Register_IsProbSchedMinPctGtMaxPct] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM DS15_risk_register
	WHERE 
			upload_ID = @upload_ID
		AND probability_schedule_min_pct > probability_schedule_max_pct
)
```

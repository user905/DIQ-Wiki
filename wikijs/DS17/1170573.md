## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS17 WBS EU |
| Severity    | MINOR |
| Unique ID   | 1170573   |
| Summary     | Is an EU justification missing for why the min dollars equal the likely, the likel equal the max, or the min equal the max? |
| Error message | justification_EU is missing or blank & EU_min_dollars = EU_likely_dollars, EU_likely_dollars = EU_max_dollars, or EU_max_dollars = EU_min_dollars. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "EU Justification Missing" is designed to identify any instances in the DS17 WBS EU table where the justification for the Estimated Unit (EU) is missing or blank. This check is particularly important when the minimum estimated dollars are equal to the likely estimated dollars, the likely estimated dollars are equal to the maximum estimated dollars, or the minimum estimated dollars are equal to the maximum estimated dollars. 

If the DIQ check identifies any such instances, it indicates that there is missing information that needs to be addressed. The fields causing the issue are 'justification_EU', 'EU_min_dollars', 'EU_likely_dollars', and 'EU_max_dollars'. 

The 'justification_EU' field should contain a valid justification for the estimated unit. If it is blank or missing, it may indicate that the justification was overlooked or not provided. 

The 'EU_min_dollars', 'EU_likely_dollars', and 'EU_max_dollars' fields should contain different values representing the range of possible costs. If these values are all equal, it may indicate that the cost estimation process was not thorough or accurate. 

To resolve this issue, ensure that a valid justification is provided for each estimated unit and that the cost estimates reflect a realistic range of possible costs.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to ensure that there is a valid justification provided whenever the minimum, likely, and maximum dollar values for an EU (Estimate at Completion) are equal. This is important because in project management, especially in the context of the Department of Energy's EVMS (Earned Value Management System), these values should typically vary to reflect the range of potential costs associated with a task or project. If these values are the same, it implies that there is no uncertainty or risk associated with the cost estimate, which is unlikely in most real-world scenarios. 

The severity of this test is marked as an MINOR, which means it's not a critical error that would prevent the data from being reviewed, but it's still a potential issue that could cause minor problems or indicate that the data doesn't follow all best practices. For instance, if these justifications are consistently missing, it could suggest a lack of rigor in the cost estimation process, or a failure to adequately account for risk and uncertainty in project planning.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS17_WBS_EU_IsEUJustificationMissing] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM 
		DS17_WBS_EU
	WHERE 
			upload_ID = @upload_ID
		AND (
				EU_min_dollars = EU_likely_dollars OR 
				EU_likely_dollars = EU_max_dollars OR 
				EU_max_dollars = EU_min_dollars 
		)
		and TRIM(ISNULL(justification_EU,'')) = ''
)
```

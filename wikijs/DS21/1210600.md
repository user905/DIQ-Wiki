## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS21 Rates |
| Severity    | MAJOR |
| Unique ID   | 1210600   |
| Summary     | Is there a burden ID missing for this indirect rate? |
| Error message | type = I & burden_ID is missing or blank. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Indirect Rate Missing Burden" is designed to identify any instances in the DS21 Rates table where an indirect rate is missing a corresponding burden ID. 

The error is likely to occur when the 'type' field is marked as 'I' (indicating an indirect rate) but the 'burden_ID' field is either missing or blank. This is problematic because each indirect rate should be associated with a specific burden ID. 

If this error is flagged, it suggests that there is incomplete data in the DS21 Rates table. The missing or blank 'burden_ID' field should be populated with the appropriate burden ID for the indirect rate. 

Please ensure that all indirect rates have a corresponding burden ID to maintain the integrity and quality of the data in the DS21 Rates table.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS21 Rates' table to check for missing or blank burden IDs for indirect rates. The test is important because the burden ID is a crucial piece of information for indirect rates. Without it, the indirect rate data may be incomplete or inaccurate, which could lead to errors in project cost calculations or financial reporting. The severity of this test is marked as 'MAJOR', which means that while it may not prevent the data from being reviewed, it is likely to cause problems during analysis. Therefore, it is important to address this issue to ensure the integrity and quality of the EVMS construction project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS21_Rates_IsIndirectRateMissingBurden] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM 
		DS21_rates
	WHERE 
			upload_ID = @upload_ID
		AND type = 'I'
		AND TRIM(ISNULL(burden_ID,'')) = ''
)
```

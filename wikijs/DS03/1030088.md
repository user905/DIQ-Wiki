## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS03 Cost |
| Severity    | ALERT |
| Unique ID   | 1030088   |
| Summary     | Is this Labor missing Actual Dollars, Hours, or FTEs? |
| Error message | EOC = Labor with ACWPi <> 0 for either Dollars, Hours, or FTEs, but where at least one other ACWPi = 0. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Labor Missing Actuals" is designed to identify any inconsistencies in the DS03 Cost table related to labor costs. Specifically, it checks for instances where there are actual costs, hours, or full-time equivalents (FTEs) recorded for labor (EOC = 'Labor'), but at least one of these fields is missing or recorded as zero.

The error message "EOC = Labor with ACWPi <> 0 for either Dollars, Hours, or FTEs, but where at least one other ACWPi = 0" indicates that there is a labor cost entry with actual cost work performed index (ACWPi) not equal to zero for either dollars, hours, or FTEs, but at least one other ACWPi field is zero. This could be due to a data entry error or omission.

To maintain data integrity, all labor cost entries should have corresponding values for actual dollars, hours, and FTEs. If any of these fields is missing or recorded as zero, it may lead to inaccurate cost calculations and reporting. Therefore, it is important to ensure that all these fields are correctly filled in for each labor cost entry.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test, titled "Labor Missing Actuals", is being performed on the 'DS03 Cost' table to check for any inconsistencies or missing data in the Actual Cost of Work Performed (ACWP) for labor. The ACWP measures the actual cost of the work completed to date, and it should ideally include data for Dollars, Hours, and Full-Time Equivalents (FTEs). 

The test is checking for instances where there is a non-zero ACWP for either Dollars, Hours, or FTEs, but where at least one other ACWP is zero. This could indicate that there is missing data or an error in data entry. 

The severity of this test is marked as an 'ALERT', which means it is not a critical issue that would prevent the data from being reviewed, but it could potentially cause minor problems during analysis. It also suggests that the data may not be following all best practices for data integrity and quality. 

The importance of this check is to ensure that all labor costs are accurately captured and reported. This is crucial for effective project management and for making informed decisions about resource allocation and project budgeting. Any inconsistencies or missing data in the ACWP could lead to inaccurate cost analysis and could potentially impact the overall project outcomes.
## Code

```sql
CREATE FUNCTION [dbo].[fnDIQ_DS03_Cost_IsLaborMissingACWPDollarsHoursOrFTEs] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	SELECT 
		* 
	FROM 
		DS03_Cost
	WHERE
			upload_ID = @upload_ID
		AND 
				EOC = 'Labor' 
			AND ISNULL(is_indirect,'') <> 'Y'
			AND (ACWPi_dollars <> 0 OR ACWPi_FTEs <> 0 OR ACWPi_hours <> 0)
			AND (ACWPi_dollars = 0 OR ACWPi_FTEs = 0 OR ACWPi_hours = 0)
)
```

### Changelog

| Date       | Description of Changes   |
| ---------- | ------------------------ |
| 2024-04-30 | Logic adjusted to exclude records where is_indirect is 'Y', in addition to the existing filters. |

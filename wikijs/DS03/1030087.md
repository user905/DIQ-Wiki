## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS03 Cost |
| Severity    | MAJOR |
| Unique ID   | 1030087   |
| Summary     | Is this WP or PP missing an EVT? |
| Error message | EVT is missing. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "EVT Missing" is designed to identify any instances in the DS03 Cost table where the EVT (Earned Value Technique) field is missing for a given Work Package (WP) or Planning Package (PP). 

The EVT field is crucial for project management as it provides a method for measuring project performance and progress in an objective manner. If this field is missing, it could lead to inaccurate project tracking and reporting.

The DIQ check is specifically looking at records where the WBS_ID_WP (Work Breakdown Structure ID for Work Package) field is not empty, indicating that there is a WP or PP associated with the record. However, if the EVT field for these records is empty, the check will flag this as an error.

The expected value for the EVT field would be a valid EVT method, which could vary depending on the specific project or task. If the EVT field is empty for a record with a WP or PP, this would need to be corrected by inputting an appropriate EVT method.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS03 Cost' table to check if there is a missing Earned Value Technique (EVT) for a Work Package (WP) or Planning Package (PP). The Earned Value Technique is a crucial component in project management as it measures the performance and progress of a project in a consistent manner. 

The severity level of this test is 'MAJOR', which implies that the absence of an EVT could potentially cause problems during the analysis of the data. This is because without an EVT, it would be challenging to accurately measure the project's performance and progress, which could lead to inaccurate project forecasting and planning. 

Therefore, this check is important to ensure that all necessary components for effective project management are present in the data. If an EVT is missing, it should be added to the data to ensure accurate and reliable project management and analysis.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS03_Cost_IsEVTMissing] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	SELECT 
		* 
	FROM 
		DS03_Cost
	WHERE
			upload_ID = @upload_ID
		AND TRIM(ISNULL(WBS_ID_WP,'')) <> ''
		AND	TRIM(ISNULL(EVT,'')) = ''
)
```

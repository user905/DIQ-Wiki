## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | MINOR |
| Unique ID   | 1070342   |
| Summary     | Are there UB budget days but no UB budget dollars? |
| Error message | UB_bgt_days <> 0 & UB_bgt_dollars = 0. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "UB Budget Days without UB Budget Dollars" is designed to ensure that there are no instances in the DS07 IPMR Header where there are Unbudgeted (UB) budget days recorded, but no corresponding UB budget dollars. 

This check is important because it helps maintain the accuracy and consistency of the project management data. If there are UB budget days recorded, there should also be corresponding UB budget dollars. If the check finds instances where this is not the case (i.e., UB budget days are not equal to zero, but UB budget dollars are equal to zero), it indicates a potential data integrity issue.

The likely cause of this error could be a data entry mistake or a system error during data import. It's important to review these instances and correct them to ensure the accuracy of the project budget data. The fields causing the issue are 'UB_bgt_days' and 'UB_bgt_dollars'. The expected values should be that if 'UB_bgt_days' is not equal to zero, then 'UB_bgt_dollars' should also not be equal to zero.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to check for instances where there are Unbudgeted (UB) budget days recorded but no corresponding UB budget dollars. The test is looking for records where the 'UB_bgt_days' field is not equal to zero, but the 'UB_bgt_dollars' field is equal to zero. 

The importance of this check is to ensure consistency and accuracy in the data. In normal circumstances, if there are UB budget days, there should be corresponding UB budget dollars. If this is not the case, it could indicate a data entry error or a problem with the data collection process. 

The severity of this check is classified as an 'MINOR'. This means that while it may not prevent the data from being reviewed, it could potentially cause minor problems during analysis or indicate that the data does not adhere to all best practices. It's a signal to the data analyst to pay attention to these records and investigate further if necessary.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_DoUBBgtDaysExistWithoutUBBgtDollars] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND UB_bgt_days <> 0
		AND ISNULL(UB_bgt_dollars,0) = 0
)
```

## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | MAJOR |
| Unique ID   | 1070259   |
| Summary     | Is the MR reprogramming less than zero? |
| Error message | MR_rpg_dollars < 0. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Negative MR Reprogramming" is designed to ensure that the Management Reserve (MR) reprogramming dollars are not less than zero in the DS07 IPMR Header table. 

The error message "MR_rpg_dollars < 0" indicates that the value in the MR_rpg_dollars field is negative, which is not expected. The MR reprogramming dollars should always be a positive value or zero, as it represents the amount of funds set aside for unforeseen changes or risks in the project. 

If this error is encountered, it is likely due to incorrect data entry or calculation errors in the MR_rpg_dollars field. Please review the data in this field to ensure it is accurate and correct any negative values.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to check if the Management Reserve (MR) reprogramming is less than zero. The test is titled 'Negative MR Reprogramming' and it is currently in the 'TEST' status. The severity of this test is marked as 'MAJOR', which implies that if the MR reprogramming is indeed less than zero, it could potentially cause problems during data analysis.

The importance of this check lies in ensuring the accuracy and integrity of the financial data related to the project. Management Reserve (MR) is a budget set aside for unforeseen changes in the scope or objectives of the project. If the MR reprogramming is negative, it could indicate that funds are being improperly allocated or that there are errors in the financial data. This could lead to inaccurate financial reporting and decision-making. Therefore, it is crucial to address this issue to maintain the integrity and reliability of the project's financial data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_AreMRRpgDollarsLtZero] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND MR_rpg_dollars < 0
)
```

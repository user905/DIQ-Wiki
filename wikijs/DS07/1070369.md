## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | MINOR |
| Unique ID   | 1070369   |
| Summary     | Is the unfavorable cost inc percent threshold equal to zero? |
| Error message | threshold_cost_inc_pct_unfav = 0. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Zero Unfavorable Cost Inc Percent Threshold" is designed to verify the integrity of data in the DS07 IPMR Header table. Specifically, it checks whether the 'unfavorable cost inc percent threshold' field is equal to zero.

If this DIQ check fails, it means that the 'unfavorable cost inc percent threshold' field in the DS07 IPMR Header table has a value of zero. This could be due to an error in data entry or a problem with the data source. 

The 'unfavorable cost inc percent threshold' field should ideally contain a non-zero value. This value represents the threshold for cost increases that are considered unfavorable. A zero value in this field could indicate that no threshold has been set, which may not be accurate for project management data.

To resolve this issue, you should review the data source or data entry process to ensure that the 'unfavorable cost inc percent threshold' field is being populated correctly.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to check if the unfavorable cost increase percent threshold is equal to zero. The test is important because it ensures that the data in the 'threshold_cost_inc_pct_unfav' field is correctly set. If the threshold is zero, it could indicate that there might be minor problems with the data or that the data doesn't follow all best practices. This is flagged as an MINOR, meaning it's not a critical issue that would prevent the data from being reviewed, but it's something that should be looked into to ensure the accuracy and reliability of the data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_IsThresholdCostIncPctUnfavEqToZero] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND ISNULL(threshold_cost_Inc_pct_unfav,0) = 0
)
```

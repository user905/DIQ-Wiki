## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | MAJOR |
| Unique ID   | 1070381   |
| Summary     | Is the contract type missing? |
| Error message | type = blank or missing. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Contract Type Missing" is designed to identify any instances where the contract type is not specified in the DS07 IPMR Header table. This check is crucial as the contract type is a mandatory field for each record in the table.

The error message "type = blank or missing" indicates that the contract type field is either left blank or not provided at all. This could be due to an oversight during data entry or a glitch in the data import process. 

To maintain data integrity and quality, it is essential that the contract type field is always populated with the appropriate contract type. If this field is left blank or missing, it could lead to inaccuracies in project management data and subsequent analyses. Therefore, it is recommended to always ensure that this field is correctly filled during data entry or import.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed to check if the 'Contract Type' field in the 'DS07 IPMR Header' table is missing or blank. The 'Contract Type' is a crucial piece of information in project management as it defines the nature of the agreement between parties and can significantly impact the financial and operational aspects of the project. 

The severity of this test is marked as 'MAJOR', which means that while it may not immediately prevent the data from being reviewed, a missing or blank 'Contract Type' is likely to cause problems during the analysis of the data. It could lead to incorrect interpretations or conclusions, and potentially impact decision-making processes. Therefore, it's important to address this issue to ensure the integrity and quality of the EVMS construction project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_IsTypeMissing] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND ISNULL(type,'') = ''
)
```

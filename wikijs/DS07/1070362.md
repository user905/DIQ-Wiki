## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | MINOR |
| Unique ID   | 1070362   |
| Summary     | Is the favorable cost cum dollar threshold equal to zero? |
| Error message | threshold_cost_cum_dollar_fav = 0. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Zero Favorable Cost Cum Dollar Threshold" is designed to verify the integrity of data in the DS07 IPMR Header table. Specifically, it checks whether the 'Favorable Cost Cumulative Dollar Threshold' (threshold_cost_cum_dollar_fav) is equal to zero.

If this DIQ check fails, it indicates that the 'Favorable Cost Cumulative Dollar Threshold' in the DS07 IPMR Header table is set to zero. This could be due to an error in data entry or a system glitch during data import. 

The 'Favorable Cost Cumulative Dollar Threshold' is a critical field that should typically contain a positive value. A zero value in this field could lead to inaccurate project cost calculations and projections. Therefore, it is important to ensure that this field is correctly populated with the appropriate values. 

If you encounter this error, please review the data entry for the 'Favorable Cost Cumulative Dollar Threshold' in the DS07 IPMR Header table and correct it if necessary. If the error persists, it may be necessary to investigate the data import process for potential issues.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to check if the favorable cost cumulative dollar threshold is equal to zero. The test is important because it ensures that the data in the 'threshold_cost_cum_dollar_fav' field is accurate and meaningful. If the threshold is zero, it may indicate that there are no favorable costs, which could be a potential issue in the financial analysis of the project. 

The severity of this test is marked as an 'MINOR', which means it is not a critical error that would prevent the data from being reviewed, but it is a potential issue that could cause minor problems or indicate that the data does not follow all best practices. It is important to address these alerts to ensure the overall quality and integrity of the data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_IsThresholdCostCumDollarFavEqToZero] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND ISNULL(threshold_cost_cum_dollar_fav,0) = 0
)
```

## Basic Information
| Key         | Value          |
|-------------|----------------|
| Table       | DS07 IPMR Header |
| Severity    | MAJOR |
| Unique ID   | 1070272   |
| Summary     | Is the PM EAC Worst dollars value zero or negative? |
| Error message | EAC_PM_worst_dollars <= 0. |

## What causes this error?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

The Data Integrity and Quality (DIQ) check titled "Negative or Zero PM EAC Worst Dollars" is designed to verify the integrity of the data in the DS07 IPMR Header table. Specifically, it checks the 'PM EAC Worst dollars' field.

The error message "EAC_PM_worst_dollars <= 0" indicates that the value in the 'PM EAC Worst dollars' field is either zero or negative. This is not expected as the 'PM EAC Worst dollars' field should contain positive values representing the worst-case estimate at completion (EAC) in dollars as projected by the project manager (PM).

The likely cause of this error is incorrect data entry or calculation. The 'PM EAC Worst dollars' field should be carefully reviewed to ensure that it contains accurate and positive values. If the value is zero or negative, it suggests that the project is not expected to incur any cost, which is highly unlikely in a construction project management scenario. 

In summary, the 'PM EAC Worst dollars' field in the DS07 IPMR Header table should always contain positive values. Any zero or negative values should be corrected to maintain data integrity and quality.
## Why do we check this?

> :robot: The following text was generated by an AI tool and hasn't been reviewed for accuracy by a human! It might be useful, but it also might have errors. Are you a human? You can help by reviewing it for accuracy! Edit it as needed then remove this message.
{.is-warning}

This test is being performed on the 'DS07 IPMR Header' table to check if the 'PM EAC Worst dollars' value is zero or negative. The 'PM EAC Worst dollars' field likely represents the worst-case estimate at completion (EAC) in dollars from the project manager's perspective. 

The importance of this check is to ensure that the data in this field is logical and meaningful. A zero or negative value in this field might not make sense in the context of project management, as it would imply that the project has no cost or somehow generates money, which is typically not the case. 

The severity of this check is marked as 'MAJOR', which means that while it's not an immediate blocker for data review, it could potentially cause problems during data analysis. For instance, it could skew the average EAC or lead to incorrect conclusions about the project's financial status. Therefore, it's important to address this issue to maintain the integrity and quality of the project management data.
## Code

```sql

CREATE FUNCTION [dbo].[fnDIQ_DS07_IPMR_IsEACPMWorstDollarsLtEqToZero] (
	@upload_id int = 0
)
RETURNS TABLE
AS RETURN
(
	
	SELECT 
		*
	FROM
		DS07_IPMR_header
	WHERE
			upload_ID = @upload_ID
		AND EAC_PM_worst_dollars <= 0
)
```
